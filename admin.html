<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NguyeZ Gaming - Media Kit (Admin)</title>
    <link rel="icon" type="image/png" href="IMG/AVT-NguyeZGaming.png" id="favicon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&family=Exo+2:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        html {
            overflow-x: hidden;
            width: 100%;
            max-width: 100vw;
        }

        body {
            overflow-x: hidden;
            overflow-y: auto;
            width: 100%;
            max-width: 100vw;
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            position: relative;
            transition: all 0.3s ease;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: url('') center/cover;
            opacity: 0.3;
            z-index: 0;
            transition: all 0.3s ease;
            animation: kenBurns 30s ease-in-out infinite alternate;
            will-change: transform;
        }

        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.5);
            z-index: 0;
            transition: all 0.3s ease;
            animation: overlayPulse 15s ease-in-out infinite alternate;
        }

        .container { 
            max-width: 1400px; 
            width: 100%; 
            position: relative; 
            z-index: 1; 
        }
        
        .header { text-align: center; margin-bottom: 60px; }
        .header h1 {
            font-size: 3.5rem;
            font-weight: 800;
            color: #667eea;
            letter-spacing: 2px;
        }

        /* Wrapper chung cho t·∫•t c·∫£ cards (avatar + bank) */
        .all-cards-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 50px;
        }
        
        /* Layout 1 c·ªôt - T·∫•t c·∫£ n·∫±m gi·ªØa, m·ªói d√≤ng 1 card */
        .container.layout-1col .all-cards-container {
            grid-template-columns: 1fr;
            max-width: 700px;
            margin: 0 auto;
        }

        .contact-card {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.6), rgba(40, 35, 70, 0.6), rgba(35, 30, 65, 0.6));
            background-size: 200% 200%;
            backdrop-filter: blur(10px);
            border-radius: 30px;
            padding: 50px 40px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: gradientShift 8s ease infinite, subtleGlow 4s ease-in-out infinite;
        }
        
        .contact-card::before {
            content: '';
            position: absolute;
            inset: -3px;
            border-radius: 30px;
            padding: 3px;
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.3),
                rgba(118, 75, 162, 0.3),
                rgba(240, 147, 251, 0.3),
                rgba(102, 126, 234, 0.3)
            );
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask-composite: exclude;
            opacity: 0.3;
            transition: all 0.4s ease;
            z-index: -1;
        }
        
        .contact-card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 30px;
            background: linear-gradient(135deg, 
                rgba(102, 126, 234, 0.05),
                rgba(118, 75, 162, 0.05),
                rgba(240, 147, 251, 0.05)
            );
            opacity: 0;
            transition: opacity 0.4s ease;
            pointer-events: none;
            z-index: 0;
        }

        .contact-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 
                0 25px 70px rgba(102, 126, 234, 0.6), 
                0 0 60px rgba(118, 75, 162, 0.4),
                0 0 100px rgba(240, 147, 251, 0.3),
                inset 0 0 50px rgba(102, 126, 234, 0.1);
            animation-play-state: paused;
        }
        
        .contact-card:hover::before {
            opacity: 1;
            animation: rotateBorder 3s linear infinite;
            background: linear-gradient(135deg, 
                #667eea,
                #764ba2,
                #f093fb,
                #667eea
            );
        }
        
        .contact-card:hover::after {
            opacity: 1;
        }

        .avatar-wrapper {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 0 auto 30px;
            z-index: 1;
            overflow: visible;
        }

        .avatar-wrapper::before {
            content: '';
            position: absolute;
            inset: -5px;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            border-radius: 50%;
            animation: rotate 3s linear infinite;
            z-index: -1;
        }
        
        .contact-card:nth-child(1) .avatar-wrapper::before {
            background: linear-gradient(135deg, #ff6b35, #f7931e, #ffd700);
        }
        
        .contact-card:nth-child(2) .avatar-wrapper::before {
            background: linear-gradient(135deg, #11998e, #38ef7d, #7bed9f);
        }

        .avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid rgba(15, 12, 41, 0.9);
            transition: all 2s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .contact-card:hover .avatar {
            transform: scale(1.2);
            border: 0;
            border-radius: 20px;
        }
        
        .contact-card:hover .avatar-wrapper::before {
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .contact-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
        }

        .contact-description {
            text-align: center;
            color: #a8b2d1;
            line-height: 1.8;
            margin-bottom: 35px;
            font-size: 1.05rem;
            position: relative;
            z-index: 1;
        }

        .social-links {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            position: relative;
            z-index: 1;
        }

        .social-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 15px 20px;
            background: rgba(102, 126, 234, 0.1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            word-break: break-word;
            overflow-wrap: break-word;
        }

        .social-link:hover {
            transform: translateY(-5px) scale(1.05); 
            border-color: rgba(102, 126, 234, 1); 
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4), 0 0 20px rgba(102, 126, 234, 0.2);
            background: rgba(102, 126, 234, 0.15);
        }

        .social-link i {
            font-size: 1.3rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .social-link:hover i { 
            transform: scale(1.2) rotate(5deg); 
            filter: brightness(1.3);
        }

        .youtube { border-color: rgba(255, 0, 0, 0.3); background: rgba(255, 0, 0, 0.05); }
        .youtube i { color: #ff0000; }
        .discord { border-color: rgba(88, 101, 242, 0.3); background: rgba(88, 101, 242, 0.05); }
        .discord i { color: #5865f2; }
        .website { border-color: rgba(0, 255, 255, 0.3); background: rgba(0, 255, 255, 0.05); }
        .website i { color: #00ffff; }
        .email { border-color: rgba(234, 88, 12, 0.3); background: rgba(234, 88, 12, 0.05); }
        .email i { color: #ea580c; }
        .forum { border-color: rgba(147, 51, 234, 0.3); background: rgba(147, 51, 234, 0.05); }
        .forum i { color: #9333ea; }
        .twitch { border-color: rgba(145, 70, 255, 0.3); background: rgba(145, 70, 255, 0.05); }
        .twitch i { color: #9146ff; }
        .twitter { border-color: rgba(29, 155, 240, 0.3); background: rgba(29, 155, 240, 0.05); }
        .twitter i { color: #1d9bf0; }
        .facebook { border-color: rgba(24, 119, 242, 0.3); background: rgba(24, 119, 242, 0.05); }
        .facebook i { color: #1877f2; }
        .instagram { border-color: rgba(225, 48, 108, 0.3); background: rgba(225, 48, 108, 0.05); }
        .instagram i { color: #e1306c; }
        .tiktok { border-color: rgba(0, 242, 234, 0.3); background: rgba(0, 242, 234, 0.05); }
        .tiktok i { color: #00f2ea; }
        .google-sheet { border-color: rgba(34, 197, 94, 0.3); background: rgba(34, 197, 94, 0.05); }
        .google-sheet i { color: #22c55e; }
        .google-form { border-color: rgba(66, 133, 244, 0.3); background: rgba(66, 133, 244, 0.05); }
        .google-form i { color: #4285f4; }
        .github { border-color: rgba(240, 246, 252, 0.3); background: rgba(240, 246, 252, 0.05); }
        .github i { color: #f0f6fc; }
        .linkedin { border-color: rgba(10, 102, 194, 0.3); background: rgba(10, 102, 194, 0.05); }
        .linkedin i { color: #0a66c2; }
        .steam { border-color: rgba(23, 129, 190, 0.3); background: rgba(23, 129, 190, 0.05); }
        .steam i { color: #1781be; }
        .steam-curator { border-color: rgba(102, 192, 244, 0.3); background: rgba(102, 192, 244, 0.05); }
        .steam-curator i { color: #66c0f4; }
        .steam-game { border-color: rgba(31, 108, 171, 0.3); background: rgba(31, 108, 171, 0.05); }
        .steam-game i { color: #1f6cab; }
        .steam-workshop { border-color: rgba(92, 151, 196, 0.3); background: rgba(92, 151, 196, 0.05); }
        .steam-workshop i { color: #5c97c4; }
        .telegram { border-color: rgba(34, 158, 217, 0.3); background: rgba(34, 158, 217, 0.05); }
        .telegram i { color: #229ED9; }
        .shopee { border-color: rgba(238, 77, 45, 0.3); background: rgba(238, 77, 45, 0.05); }
        .shopee i { color: #EE4D2D; }
        .lazada { border-color: rgba(15, 21, 109, 0.3); background: rgba(15, 21, 109, 0.05); }
        .lazada i { color: #0F156D; }
        .zalo { border-color: rgba(0, 119, 255, 0.3); background: rgba(0, 119, 255, 0.05); }
        .zalo i { color: #0077FF; }
        .viber { border-color: rgba(124, 88, 179, 0.3); background: rgba(124, 88, 179, 0.05); }
        .viber i { color: #7C58B3; }
        .whatsapp { border-color: rgba(37, 211, 102, 0.3); background: rgba(37, 211, 102, 0.05); }
        .whatsapp i { color: #25D366; }
        .messenger { border-color: rgba(0, 132, 255, 0.3); background: rgba(0, 132, 255, 0.05); }
        .messenger i { color: #0084FF; }
        .threads { border-color: rgba(0, 0, 0, 0.3); background: rgba(0, 0, 0, 0.05); }
        .threads i { color: #000000; }
        .reddit { border-color: rgba(255, 69, 0, 0.3); background: rgba(255, 69, 0, 0.05); }
        .reddit i { color: #FF4500; }
        .pinterest { border-color: rgba(230, 0, 35, 0.3); background: rgba(230, 0, 35, 0.05); }
        .pinterest i { color: #E60023; }
        .snapchat { border-color: rgba(255, 252, 0, 0.3); background: rgba(255, 252, 0, 0.05); }
        .snapchat i { color: #FFFC00; }
        .spotify { border-color: rgba(30, 215, 96, 0.3); background: rgba(30, 215, 96, 0.05); }
        .spotify i { color: #1DB954; }
        .soundcloud { border-color: rgba(255, 85, 0, 0.3); background: rgba(255, 85, 0, 0.05); }
        .soundcloud i { color: #FF5500; }
        .apple-music { border-color: rgba(252, 61, 57, 0.3); background: rgba(252, 61, 57, 0.05); }
        .apple-music i { color: #FC3D39; }
        .youtube-music { border-color: rgba(255, 0, 0, 0.3); background: rgba(255, 0, 0, 0.05); }
        .youtube-music i { color: #FF0000; }
        .medium { border-color: rgba(0, 0, 0, 0.3); background: rgba(0, 0, 0, 0.05); }
        .medium i { color: #000000; }
        .wordpress { border-color: rgba(33, 117, 155, 0.3); background: rgba(33, 117, 155, 0.05); }
        .wordpress i { color: #21759B; }
        .blogger { border-color: rgba(255, 87, 34, 0.3); background: rgba(255, 87, 34, 0.05); }
        .blogger i { color: #FF5722; }
        .vimeo { border-color: rgba(26, 183, 234, 0.3); background: rgba(26, 183, 234, 0.05); }
        .vimeo i { color: #1AB7EA; }
        .netflix { border-color: rgba(229, 9, 20, 0.3); background: rgba(229, 9, 20, 0.05); }
        .netflix i { color: #E50914; }
        .xbox { border-color: rgba(16, 124, 16, 0.3); background: rgba(16, 124, 16, 0.05); }
        .xbox i { color: #107C10; }
        .playstation { border-color: rgba(0, 67, 156, 0.3); background: rgba(0, 67, 156, 0.05); }
        .playstation i { color: #00439C; }
        .nintendo { border-color: rgba(230, 0, 18, 0.3); background: rgba(230, 0, 18, 0.05); }
        .nintendo i { color: #E60012; }
        .epic-games { border-color: rgba(49, 49, 49, 0.3); background: rgba(49, 49, 49, 0.05); }
        .epic-games i { color: #313131; }
        .battle-net { border-color: rgba(0, 176, 240, 0.3); background: rgba(0, 176, 240, 0.05); }
        .battle-net i { color: #00B0F0; }
        .riot { border-color: rgba(235, 47, 64, 0.3); background: rgba(235, 47, 64, 0.05); }
        .riot i { color: #EB2F40; }
        .document { border-color: rgba(74, 144, 226, 0.3); background: rgba(74, 144, 226, 0.05); }
        .document i { color: #4A90E2; }
        .news { border-color: rgba(255, 159, 64, 0.3); background: rgba(255, 159, 64, 0.05); }
        .news i { color: #FF9F40; }
        .blog { border-color: rgba(156, 39, 176, 0.3); background: rgba(156, 39, 176, 0.05); }
        .blog i { color: #9C27B0; }
        .music { border-color: rgba(233, 30, 99, 0.3); background: rgba(233, 30, 99, 0.05); }
        .music i { color: #E91E63; }
        .video { border-color: rgba(244, 67, 54, 0.3); background: rgba(244, 67, 54, 0.05); }
        .video i { color: #F44336; }
        .game { border-color: rgba(103, 58, 183, 0.3); background: rgba(103, 58, 183, 0.05); }
        .game i { color: #673AB7; }
        .podcast { border-color: rgba(156, 39, 176, 0.3); background: rgba(156, 39, 176, 0.05); }
        .podcast i { color: #9C27B0; }
        .patreon { border-color: rgba(255, 66, 77, 0.3); background: rgba(255, 66, 77, 0.05); }
        .patreon i { color: #FF424D; }
        .ko-fi { border-color: rgba(255, 93, 177, 0.3); background: rgba(255, 93, 177, 0.05); }
        .ko-fi i { color: #FF5DB1; }
        .paypal { border-color: rgba(0, 48, 135, 0.3); background: rgba(0, 48, 135, 0.05); }
        .paypal i { color: #003087; }
        .donate { border-color: rgba(76, 175, 80, 0.3); background: rgba(76, 175, 80, 0.05); }
        .donate i { color: #4CAF50; }
        .phone { border-color: rgba(33, 150, 243, 0.3); background: rgba(33, 150, 243, 0.05); }
        .phone i { color: #2196F3; }
        .map { border-color: rgba(244, 81, 30, 0.3); background: rgba(244, 81, 30, 0.05); }
        .map i { color: #F4511E; }
        .calendar { border-color: rgba(66, 133, 244, 0.3); background: rgba(66, 133, 244, 0.05); }
        .calendar i { color: #4285F4; }
        .link { border-color: rgba(102, 126, 234, 0.3); background: rgba(102, 126, 234, 0.05); }
        .link i { color: #667eea; }
        
        /* Bank Cards - gi·ªù s·∫Ω n·∫±m trong all-cards-container chung v·ªõi avatar cards */
        
        .bank-card {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.7), rgba(40, 35, 70, 0.7));
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 40px 35px;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid rgba(102, 126, 234, 0.3);
            display: flex;
            flex-direction: column;
            min-height: 100%;
        }
        
        /* Match height with contact-card */
        .container.layout-1col.has-banks .bank-card,
        .container.layout-1col.has-banks .contact-card {
            align-self: stretch;
        }
        
        .bank-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.5);
            border-color: rgba(102, 126, 234, 0.6);
        }
        
        .bank-qr {
            width: 350px;
            height: 350px;
            margin: 0 auto 25px;
            border-radius: 20px;
            overflow: hidden;
            border: 4px solid rgba(102, 126, 234, 0.4);
            transition: all 0.3s;
        }
        
        .bank-card:hover .bank-qr {
            transform: scale(1.03);
            border-color: rgba(102, 126, 234, 0.8);
        }
        
        .bank-qr img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .bank-name {
            text-align: center;
            font-size: 1.8rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 12px;
        }
        
        .bank-desc {
            text-align: center;
            color: #a8b2d1;
            font-size: 1rem;
            margin-bottom: 20px;
            min-height: 24px;
            flex-shrink: 0;
        }
        
        .bank-desc:empty {
            display: none;
            min-height: 0;
            margin-bottom: 0;
        }
        
        .bank-info {
            background: rgba(15, 12, 41, 0.5);
            border-radius: 12px;
            padding: 14px 17px;
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 12px;
            border: 1px solid rgba(102, 126, 234, 0.3);
            transition: all 0.3s;
            margin-top: auto;
        }
        
        .bank-info:hover {
            border-color: rgba(102, 126, 234, 0.6);
            background: rgba(15, 12, 41, 0.7);
        }
        
        .bank-number {
            color: #fff;
            font-size: 1.15rem;
            font-weight: 600;
            word-break: break-all;
            text-align: center;
            flex: 1;
        }
        
        .copy-btn {
            background: rgba(102, 126, 234, 0.2);
            border: 1px solid rgba(102, 126, 234, 0.4);
            color: #667eea;
            padding: 10px 14px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 1rem;
            position: relative;
        }
        
        .copy-btn:hover {
            background: rgba(102, 126, 234, 0.4);
            transform: scale(1.05);
        }
        
        .copy-btn i {
            font-size: 1.1rem;
        }
        
        .copy-tooltip {
            position: absolute;
            bottom: calc(100% + 10px);
            left: 50%;
            transform: translateX(-50%) translateY(-10px) scale(0.8);
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            padding: 10px 18px;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 700;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4), 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10000;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .copy-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 7px solid transparent;
            border-top-color: #059669;
        }
        
        .copy-tooltip.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0) scale(1);
            animation: tooltipBounce 0.5s ease;
        }
        
        @keyframes tooltipBounce {
            0% { transform: translateX(-50%) translateY(-10px) scale(0.8); opacity: 0; }
            50% { transform: translateX(-50%) translateY(-5px) scale(1.1); }
            100% { transform: translateX(-50%) translateY(0) scale(1); opacity: 1; }
        }
        
        .copy-btn.copied i {
            color: #10b981;
            animation: checkPulse 0.5s ease;
        }
        
        @keyframes checkPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }
        
        .bank-card-number {
            display: none;
        }
        
        .icon-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(15, 12, 41, 0.98);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 10px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
            margin-top: 5px;
        }
        
        .icon-dropdown.show {
            display: block;
        }
        
        .icon-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 15px;
            cursor: pointer;
            transition: all 0.3s;
            color: #a8b2d1;
        }
        
        .icon-option:hover {
            background: rgba(102, 126, 234, 0.2);
            color: #fff;
        }
        
        .icon-option i {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }
        
        .icon-option.selected {
            background: rgba(102, 126, 234, 0.3);
            color: #667eea;
            font-weight: 600;
        }
        
        .icon-selector {
            position: relative;
        }
        
        .icon-selector-button {
            width: 100%;
            padding: 12px;
            background: rgba(15, 12, 41, 0.6);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: border 0.3s;
        }
        
        .icon-selector-button:hover {
            border-color: #667eea;
        }
        
        .icon-selector-button i {
            font-size: 1.2rem;
            width: 24px;
            text-align: center;
        }
        
        .icon-dropdown::-webkit-scrollbar { width: 6px; }
        .icon-dropdown::-webkit-scrollbar-track { background: rgba(15, 12, 41, 0.5); }
        .icon-dropdown::-webkit-scrollbar-thumb { background: rgba(102, 126, 234, 0.5); border-radius: 3px; }

        .top-bar {
            position: fixed;
            top: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            align-items: center;
            background: rgba(30, 30, 60, 0.9);
            padding: 10px 20px;
            border-radius: 25px;
            border: 2px solid rgba(102, 126, 234, 0.3);
            z-index: 1000;
        }

        .lang-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid rgba(102, 126, 234, 0.3);
            background: transparent;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s;
        }

        .lang-btn.active { border-color: #667eea; box-shadow: 0 0 15px rgba(102, 126, 234, 0.6); }
        .lang-btn img { width: 100%; height: 100%; object-fit: cover; }

        .font-selector { 
            position: relative; 
            display: flex; 
            align-items: center; 
        }
        
        .font-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid rgba(102, 126, 234, 0.3);
            background: transparent;
            color: #667eea;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }
        
        .font-btn:hover {
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.6);
            background: rgba(102, 126, 234, 0.1);
        }
        
        .font-btn.active {
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.6);
        }
        
        .font-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            background: rgba(15, 12, 41, 0.95);
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 12px;
            padding: 8px;
            display: none;
            flex-direction: column;
            gap: 5px;
            min-width: 140px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 1001;
        }
        
        .font-dropdown.show {
            display: flex;
        }
        
        .font-option {
            padding: 10px 15px;
            color: #a8b2d1;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .font-option:hover {
            background: rgba(102, 126, 234, 0.2);
            color: #fff;
        }
        
        .font-option.active {
            background: rgba(102, 126, 234, 0.3);
            color: #667eea;
            font-weight: 600;
        }

        .settings-btn {
            position: fixed;
            top: 30px;
            left: 30px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 3px solid rgba(102, 126, 234, 0.3);
            background: rgba(30, 30, 60, 0.8);
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            z-index: 1000;
            transition: all 0.3s;
        }

        .settings-btn:hover { transform: scale(1.1) rotate(90deg); }

        .bottom-bar {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .action-btn {
            padding: 12px 20px;
            border-radius: 12px;
            border: 2px solid;
            color: #fff;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .export-btn { border-color: rgba(16, 185, 129, 0.5); background: linear-gradient(135deg, #10b981, #059669); }
        .import-btn { border-color: rgba(59, 130, 246, 0.5); background: linear-gradient(135deg, #3b82f6, #2563eb); }
        .action-btn:hover { transform: translateY(-3px); }

        .settings-panel {
            position: fixed;
            top: 0;
            left: -550px;
            width: 500px;
            height: 100vh;
            background: rgba(20, 20, 40, 0.98);
            backdrop-filter: blur(20px);
            padding: 30px;
            overflow-y: auto;
            transition: left 0.4s;
            z-index: 1001;
            border-right: 2px solid rgba(102, 126, 234, 0.3);
        }

        .settings-panel.active { left: 0; }
        .settings-panel h2 { color: #fff; font-size: 1.8rem; margin-bottom: 10px; }
        .hint { color: #667eea; font-size: 0.9rem; margin-bottom: 20px; font-style: italic; }

        .settings-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(102, 126, 234, 0.2);
        }
        
        /* Ph√¢n nh√≥m settings theo m√†u */
        .settings-section.general-settings {
            background: rgba(102, 126, 234, 0.08);
            border: 2px solid rgba(102, 126, 234, 0.3);
        }
        
        .settings-section.general-settings h3 {
            color: #667eea;
        }
        
        .settings-section.card-settings {
            background: rgba(16, 185, 129, 0.08);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }
        
        .settings-section.card-settings h3 {
            color: #10b981;
        }
        
        .settings-section.bank-settings {
            background: rgba(251, 146, 60, 0.08);
            border: 2px solid rgba(251, 146, 60, 0.3);
        }
        
        .settings-section.bank-settings h3 {
            color: #fb923c;
        }

        .settings-section h3 { color: #a8b2d1; font-size: 1.1rem; margin-bottom: 15px; }
        .settings-section label { display: block; color: #8892b0; font-size: 0.9rem; margin-bottom: 8px; font-weight: 600; }
        .settings-section input, .settings-section textarea, .settings-section select {
            width: 100%;
            padding: 12px;
            background: rgba(15, 12, 41, 0.6);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            color: #fff;
            margin-bottom: 15px;
            transition: border 0.3s;
        }
        .settings-section input:focus, .settings-section textarea:focus, .settings-section select:focus {
            outline: none;
            border-color: #667eea;
        }
        .settings-section textarea { min-height: 80px; resize: vertical; }
        .settings-section input[type="range"] { padding: 0; }
        .range-value { color: #667eea; font-weight: 700; margin-left: 10px; }
        .font-size-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        .social-item {
            background: rgba(15, 12, 41, 0.4);
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .social-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .social-item-title {
            color: #a8b2d1;
            font-weight: 700;
            font-size: 0.95rem;
        }

        .remove-social-btn {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
            color: #ef4444;
            padding: 5px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
        }

        .remove-social-btn:hover { background: rgba(239, 68, 68, 0.4); }

        .add-social-btn {
            width: 100%;
            padding: 12px;
            background: rgba(16, 185, 129, 0.2);
            border: 2px dashed rgba(16, 185, 129, 0.4);
            color: #10b981;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .add-social-btn:hover { background: rgba(16, 185, 129, 0.3); }

        .save-btn, .reset-btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            color: #fff;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .save-btn { background: linear-gradient(135deg, #667eea, #764ba2); }
        .reset-btn { background: linear-gradient(135deg, #ef4444, #dc2626); }
        .save-btn:hover, .reset-btn:hover { transform: translateY(-2px); }

        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 35px;
            height: 35px;
            border: none;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
        }
        .close-btn:hover { background: rgba(255, 0, 0, 0.3); }

        #importFile { display: none; }

        @keyframes rotate { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        @keyframes rotateBorder {
            0% { 
                background: linear-gradient(0deg, #667eea, #764ba2, #f093fb, #667eea);
            }
            25% {
                background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #667eea);
            }
            50% {
                background: linear-gradient(180deg, #667eea, #764ba2, #f093fb, #667eea);
            }
            75% {
                background: linear-gradient(270deg, #667eea, #764ba2, #f093fb, #667eea);
            }
            100% {
                background: linear-gradient(360deg, #667eea, #764ba2, #f093fb, #667eea);
            }
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        @keyframes subtleGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.1); }
            50% { box-shadow: 0 0 30px rgba(102, 126, 234, 0.2); }
        }
        
        @keyframes kenBurns {
            0% { transform: scale(1) translate(0, 0); }
            50% { transform: scale(1.1) translate(-2%, -2%); }
            100% { transform: scale(1.05) translate(2%, 1%); }
        }
        
        @keyframes overlayPulse {
            0%, 100% { background: rgba(0, 0, 0, 0.5); }
            50% { background: rgba(0, 0, 0, 0.4); }
        }
        
        /* Weather Effects */
        .weather-container {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            pointer-events: none;
        }
        
        /* Snow */
        .snowflake {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1em;
            animation: snowfall linear infinite;
        }
        
        @keyframes snowfall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0.3; }
        }
        
        /* Rain */
        .raindrop {
            width: 2px;
            background: linear-gradient(transparent, rgba(174, 194, 224, 0.8));
            animation: rainfall linear infinite;
        }
        
        @keyframes rainfall {
            0% { transform: translateY(-100px); opacity: 1; }
            100% { transform: translateY(100vh); opacity: 0.2; }
        }
        
        /* Wind (leaves/particles) */
        .wind-particle {
            width: 8px;
            height: 8px;
            background: rgba(167, 139, 250, 0.6);
            border-radius: 50%;
            animation: windflow linear infinite;
        }
        
        @keyframes windflow {
            0% { transform: translate(-100px, 0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translate(100vw, 50vh) rotate(360deg); opacity: 0; }
        }
        
        @media (max-width: 968px) { 
            body { 
                padding: 20px 10px; 
                min-height: 100vh;
            }
            .container { 
                padding: 0; 
                max-width: 100%;
            }
            .header { 
                margin-bottom: 25px; 
            }
            .header h1 { 
                font-size: 2rem !important; 
                letter-spacing: 1px;
            }
            .all-cards-container { 
                grid-template-columns: 1fr !important; 
                gap: 25px; 
            }
            .contact-card { 
                padding: 30px 20px; 
                border-radius: 20px;
            }
            .avatar-wrapper { 
                width: 120px; 
                height: 120px; 
                margin-bottom: 20px;
            }
            .contact-title { 
                font-size: 1.5rem !important; 
                margin-bottom: 15px;
            }
            .contact-description { 
                font-size: 0.95rem !important; 
                margin-bottom: 25px;
            }
            .social-links { 
                gap: 10px; 
                grid-template-columns: 1fr;
            }
            .social-link { 
                padding: 12px 15px; 
                font-size: 0.9rem !important; 
                border-radius: 12px;
            }
            .social-link i { 
                font-size: 1.1rem !important; 
            }
            .settings-panel { 
                width: 100%; 
                left: -100%; 
                padding: 20px;
            }
            .settings-btn { 
                top: 15px; 
                left: 15px; 
                width: 45px; 
                height: 45px; 
                font-size: 1.1rem;
            }
            .top-bar { 
                top: auto; 
                bottom: 15px; 
                right: 15px; 
                left: auto;
                flex-direction: row; 
                padding: 8px 12px;
                gap: 8px;
                border-radius: 20px;
            }
            .lang-btn { 
                width: 32px; 
                height: 32px; 
            }
            .font-btn { 
                width: 32px; 
                height: 32px; 
                font-size: 1rem; 
            }
            .font-dropdown { 
                top: auto;
                bottom: 50px; 
                right: 0;
                min-width: 120px;
            }
            .font-option { 
                padding: 8px 12px; 
                font-size: 0.85rem; 
            }
            .bottom-bar { 
                bottom: 75px; 
                right: 15px; 
                flex-direction: column; 
                gap: 10px;
            }
            .action-btn { 
                padding: 10px 15px; 
                font-size: 0.85rem; 
                white-space: nowrap;
            }
            
            /* Fix layout 1 column on mobile */
            .contact-grid.single-column { 
                grid-template-columns: 1fr !important; 
                max-width: 100% !important; 
            }
            .contact-grid.single-column .contact-card:nth-child(2) { 
                display: none !important; 
            }
            .container.layout-1col { 
                display: block !important; 
            }
            /* Mobile: t·∫•t c·∫£ th√†nh 1 c·ªôt */
            .container.layout-1col .contact-grid {
                max-width: 100% !important;
            }
            .container.layout-1col .bank-cards-container {
                max-width: 100% !important;
            }
            
            /* Bank Cards Responsive */
            .bank-cards-container { 
                gap: 25px; 
                margin-top: 25px;
                grid-template-columns: 1fr !important;
            }
            .bank-card { 
                padding: 25px 20px; 
                border-radius: 20px;
            }
            .bank-qr { 
                width: 200px !important; 
                height: 200px !important; 
                margin-bottom: 20px;
            }
            .bank-name { 
                font-size: 1.4rem !important; 
                margin-bottom: 10px;
            }
            .bank-desc { 
                font-size: 0.95rem !important; 
                margin-bottom: 15px;
            }
            .bank-info {
                padding: 12px 15px;
                gap: 10px;
                flex-wrap: wrap;
            }
            .bank-number {
                font-size: 1rem !important;
            }
            .copy-btn {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 600px) {
            body { 
                padding: 15px 8px; 
            }
            .header h1 { 
                font-size: 1.6rem !important; 
            }
            .contact-card { 
                padding: 25px 15px; 
            }
            .avatar-wrapper { 
                width: 100px; 
                height: 100px; 
            }
            .contact-title { 
                font-size: 1.3rem !important; 
            }
            .contact-description { 
                font-size: 0.9rem !important; 
            }
            .social-link { 
                padding: 10px 12px; 
                font-size: 0.85rem !important; 
            }
            .bank-cards-container {
                grid-template-columns: 1fr !important;
            }
            .bank-qr { 
                width: 160px !important; 
                height: 160px !important; 
            }
            .bank-name { 
                font-size: 1.2rem !important; 
            }
            .bank-desc { 
                font-size: 0.9rem !important; 
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 12px 6px;
            }
            .header { 
                margin-bottom: 20px; 
            }
            .header h1 { 
                font-size: 1.4rem !important; 
                letter-spacing: 0.5px;
            }
            .contact-card {
                padding: 20px 12px;
                border-radius: 15px;
            }
            .avatar-wrapper { 
                width: 90px; 
                height: 90px; 
                margin-bottom: 15px;
            }
            .contact-title { 
                font-size: 1.2rem !important; 
                margin-bottom: 12px;
            }
            .contact-description { 
                font-size: 0.85rem !important; 
                line-height: 1.6;
                margin-bottom: 20px;
            }
            .social-links { 
                grid-template-columns: 1fr; 
                gap: 8px;
            }
            .social-link {
                padding: 10px 12px;
                font-size: 0.8rem !important;
                border-radius: 10px;
            }
            .social-link i {
                font-size: 1rem !important;
            }
            .settings-panel {
                padding: 15px;
            }
            .settings-btn {
                top: 10px;
                left: 10px;
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }
            .top-bar { 
                bottom: 10px;
                right: 10px;
                padding: 6px 10px;
                gap: 6px;
                border-radius: 15px;
            }
            .lang-btn { 
                width: 28px; 
                height: 28px; 
            }
            .font-btn { 
                width: 28px; 
                height: 28px; 
                font-size: 0.9rem; 
            }
            .font-dropdown { 
                min-width: 100px;
                bottom: 45px;
            }
            .font-option { 
                padding: 6px 10px; 
                font-size: 0.8rem; 
            }
            .bottom-bar {
                bottom: 60px;
                right: 10px;
                gap: 8px;
            }
            .action-btn {
                padding: 8px 12px;
                font-size: 0.75rem;
            }
            
            /* Bank Cards Extra Small Mobile */
            .bank-cards-container {
                gap: 20px !important;
                margin-top: 20px !important;
            }
            .bank-card {
                padding: 20px 15px;
            }
            .bank-qr { 
                width: 140px !important; 
                height: 140px !important; 
                margin-bottom: 15px;
            }
            .bank-name { 
                font-size: 1.1rem !important; 
            }
            .bank-desc { 
                font-size: 0.85rem !important; 
                margin-bottom: 12px;
            }
            .bank-info {
                padding: 10px 12px;
                gap: 8px;
            }
            .bank-number {
                font-size: 0.9rem !important;
                word-break: break-all;
            }
            .copy-btn {
                padding: 6px 10px;
                font-size: 0.85rem;
            }
            .copy-btn i {
                font-size: 1rem !important;
            }
            .copy-tooltip {
                font-size: 0.8rem;
                padding: 8px 14px;
            }
        }
        
        @media (max-width: 360px) {
            body {
                padding: 10px 5px;
            }
            .header h1 { 
                font-size: 1.2rem !important; 
            }
            .contact-card {
                padding: 15px 10px;
            }
            .avatar-wrapper { 
                width: 80px; 
                height: 80px; 
            }
            .contact-title { 
                font-size: 1.1rem !important; 
            }
            .contact-description { 
                font-size: 0.8rem !important; 
            }
            .social-link {
                padding: 8px 10px;
                font-size: 0.75rem !important;
            }
            .bank-qr { 
                width: 120px !important; 
                height: 120px !important; 
            }
            .bank-name { 
                font-size: 1rem !important; 
            }
            .bank-desc { 
                font-size: 0.8rem !important; 
            }
            .bank-number {
                font-size: 0.85rem !important;
            }
        }
        
        .settings-panel::-webkit-scrollbar { width: 8px; }
        .settings-panel::-webkit-scrollbar-track { background: rgba(15, 12, 41, 0.5); }
        .settings-panel::-webkit-scrollbar-thumb { background: rgba(102, 126, 234, 0.5); border-radius: 4px; }
    </style>
</head>
<body>
    <div class="top-bar">
        <button class="lang-btn active" id="btnVi"><img src="https://flagcdn.com/w80/vn.png" alt="VN"></button>
        <button class="lang-btn" id="btnEn"><img src="https://flagcdn.com/w80/us.png" alt="EN"></button>
        <div class="font-selector">
            <button class="font-btn" id="fontBtn"><i class="fas fa-font"></i></button>
            <div class="font-dropdown" id="fontDropdown">
                <button class="font-option active" data-font="'Segoe UI', sans-serif">Segoe UI</button>
                <button class="font-option" data-font="'Play', sans-serif">Play</button>
                <button class="font-option" data-font="'Exo 2', sans-serif">Exo 2</button>
                <button class="font-option" data-font="'Inter', sans-serif">Inter</button>
                <button class="font-option" data-font="'Roboto', sans-serif">Roboto</button>
            </div>
        </div>
        </div>

    <button class="settings-btn" id="settingsBtn"><i class="fas fa-cog"></i></button>

    <div class="bottom-bar">
        <button class="action-btn import-btn" id="importBtn"><i class="fas fa-upload"></i> T·∫£i C√†i ƒê·∫∑t</button>
        <button class="action-btn export-btn" id="exportBtn"><i class="fas fa-download"></i> Xu·∫•t HTML</button>
                </div>

    <input type="file" id="importFile" accept=".json,.html">

    <div class="settings-panel" id="settingsPanel">
        <button class="close-btn" id="closeBtn"><i class="fas fa-times"></i></button>
        <h2>‚öôÔ∏è C√†i ƒê·∫∑t</h2>
        <p class="hint">üí° Thay ƒë·ªïi s·∫Ω hi·ªÉn th·ªã ngay l·∫≠p t·ª©c!</p>

        <div class="settings-section general-settings">
            <h3>üìê Layout</h3>
            <label>S·ªë c·ªôt hi·ªÉn th·ªã:</label>
            <select id="layoutSelect">
                <option value="2col">2 C·ªôt (PC: 2 cards/d√≤ng, Mobile: 1 card/d√≤ng)</option>
                <option value="1col">1 C·ªôt (T·∫•t c·∫£ n·∫±m gi·ªØa, 1 card/d√≤ng)</option>
            </select>
            <p style="color:#8892b0;font-size:0.85rem;margin-top:5px;font-style:italic">üí° Layout 1 c·ªôt: t·∫•t c·∫£ n·∫±m gi·ªØa. Layout 2 c·ªôt: PC hi·ªÉn th·ªã 2 cards/d√≤ng, mobile 1 card/d√≤ng</p>
        </div>

        <div class="settings-section general-settings">
            <h3>üìè K√≠ch C·ª° Font</h3>
            <div class="font-size-grid">
                <div>
                    <label>Main Title: <span class="range-value" id="mainSizeVal">3.5rem</span></label>
                    <input type="range" id="mainSize" min="2" max="5" step="0.1" value="3.5">
                </div>
                <div>
                    <label>Card Title: <span class="range-value" id="cardSizeVal">2rem</span></label>
                    <input type="range" id="cardSize" min="1.5" max="3" step="0.1" value="2">
                </div>
                <div>
                    <label>Description: <span class="range-value" id="descSizeVal">1.05rem</span></label>
                    <input type="range" id="descSize" min="0.9" max="1.5" step="0.05" value="1.05">
                </div>
                <div>
                    <label>Social: <span class="range-value" id="socialSizeVal">1rem</span></label>
                    <input type="range" id="socialSize" min="0.8" max="1.3" step="0.05" value="1">
                </div>
                </div>
            </div>

        <div class="settings-section general-settings">
            <h3>üìù Ti√™u ƒê·ªÅ Ch√≠nh</h3>
            <label>Ti√™u ƒë·ªÅ (Ti·∫øng Vi·ªát): <span style="color:#667eea;font-size:0.85rem">‚ú® H·ªó tr·ª£ HTML: &lt;b&gt; &lt;br&gt; &lt;i&gt; &lt;span style="color:#..."&gt;</span></label>
            <textarea id="mainTitle_vi" placeholder="TI√äU ƒê·ªÄ L·ªöN" rows="2"></textarea>
            <label>Title (English): <span style="color:#667eea;font-size:0.85rem">‚ú® HTML: &lt;b&gt; &lt;br&gt; &lt;i&gt; &lt;span style="color:#..."&gt;</span></label>
            <textarea id="mainTitle_en" placeholder="MAIN TITLE" rows="2"></textarea>
            
            <div class="font-size-grid" style="margin-top:15px">
                <div>
                    <label>M√†u m·∫∑c ƒë·ªãnh:</label>
                    <input type="color" id="mainTitleColor" value="#667eea">
                </div>
                <div>
                    <label>K√≠ch c·ª°: <span class="range-value" id="mainTitleSizeVal">3.5rem</span></label>
                    <input type="range" id="mainTitleSize" min="2" max="6" step="0.1" value="3.5">
                </div>
            </div>
            <p style="color:#8892b0;font-size:0.85rem;margin-top:5px;font-style:italic">üí° M√†u m·∫∑c ƒë·ªãnh √°p d·ª•ng khi kh√¥ng d√πng inline style trong HTML</p>
        </div>

        <div class="settings-section general-settings">
            <h3>üé® Background</h3>
            <label>Image URL:</label>
            <input type="text" id="bgImage" placeholder="IMG/background.jpg">
            
            <label>Opacity: <span class="range-value" id="bgOpVal">30%</span></label>
            <input type="range" id="bgOp" min="0" max="100" value="30">
            
            <label>Overlay: <span class="range-value" id="bgOvVal">50%</span></label>
            <input type="range" id="bgOv" min="0" max="100" value="50">
            
            <label>Blur: <span class="range-value" id="bgBlVal">0px</span></label>
            <input type="range" id="bgBl" min="0" max="20" value="0">

            <div class="font-size-grid">
                <div><label>Color 1:</label><input type="color" id="bgC1" value="#0f0c29"></div>
                <div><label>Color 2:</label><input type="color" id="bgC2" value="#302b63"></div>
                <div><label>Color 3:</label><input type="color" id="bgC3" value="#24243e"></div>
                </div>
                </div>

        <div class="settings-section card-settings">
            <h3>üë§ Qu·∫£n L√Ω Cards</h3>
            <p style="color:#8892b0;font-size:0.9rem;margin-bottom:15px;font-style:italic">üí° Th√™m, x√≥a v√† ch·ªânh s·ª≠a cards (t·ªëi ƒëa 10 cards)</p>
            <div id="cardsListSettings"></div>
            <button class="add-social-btn" onclick="addCard()" id="addCardBtn">+ Th√™m Card M·ªõi</button>
        </div>

        <div class="settings-section bank-settings">
            <h3>üí≥ Th·∫ª Ng√¢n H√†ng / QR Code</h3>
            <p style="color:#8892b0;font-size:0.9rem;margin-bottom:15px;font-style:italic">üí° Th√™m th·∫ª ng√¢n h√†ng v·ªõi QR code ƒë·ªÉ nh·∫≠n donate/thanh to√°n</p>
            <div id="bankCardsList"></div>
            <button class="add-social-btn" onclick="addBankCard()">+ Th√™m Th·∫ª Ng√¢n H√†ng</button>
        </div>

        <button class="save-btn" id="saveBtn">üíæ L∆∞u C√†i ƒê·∫∑t</button>
        <button class="reset-btn" id="resetBtn">üîÑ Reset M·∫∑c ƒê·ªãnh</button>
    </div>

    <div class="container">
        <div class="header"><h1 id="mainTitle">TI√äU ƒê·ªÄ L·ªöN</h1></div>
        <div class="all-cards-container" id="allCardsContainer"></div>
    </div>

    <script>
        const ICONS = {
            youtube: { icon: 'fab fa-youtube', label: 'YouTube', class: 'youtube' },
            discord: { icon: 'fab fa-discord', label: 'Discord', class: 'discord' },
            twitch: { icon: 'fab fa-twitch', label: 'Twitch', class: 'twitch' },
            twitter: { icon: 'fab fa-twitter', label: 'Twitter', class: 'twitter' },
            facebook: { icon: 'fab fa-facebook', label: 'Facebook', class: 'facebook' },
            instagram: { icon: 'fab fa-instagram', label: 'Instagram', class: 'instagram' },
            tiktok: { icon: 'fab fa-tiktok', label: 'TikTok', class: 'tiktok' },
            website: { icon: 'fas fa-globe', label: 'Website', class: 'website' },
            email: { icon: 'fas fa-envelope', label: 'Email', class: 'email' },
            forum: { icon: 'fas fa-comments', label: 'Forum', class: 'forum' },
            'google-sheet': { icon: 'fas fa-table', label: 'Google Sheet', class: 'google-sheet' },
            'google-form': { icon: 'fab fa-google', label: 'Google Form', class: 'google-form' },
            github: { icon: 'fab fa-github', label: 'GitHub', class: 'github' },
            linkedin: { icon: 'fab fa-linkedin', label: 'LinkedIn', class: 'linkedin' },
            steam: { icon: 'fab fa-steam', label: 'Steam', class: 'steam' },
            'steam-curator': { icon: 'fab fa-steam', label: 'Steam Curator', class: 'steam-curator' },
            'steam-game': { icon: 'fab fa-steam', label: 'Steam Game', class: 'steam-game' },
            'steam-workshop': { icon: 'fab fa-steam', label: 'Steam Workshop', class: 'steam-workshop' },
            telegram: { icon: 'fab fa-telegram', label: 'Telegram', class: 'telegram' },
            shopee: { icon: 'fas fa-shopping-bag', label: 'Shopee', class: 'shopee' },
            lazada: { icon: 'fas fa-shopping-cart', label: 'Lazada', class: 'lazada' },
            zalo: { icon: 'fas fa-comment', label: 'Zalo', class: 'zalo' },
            viber: { icon: 'fab fa-viber', label: 'Viber', class: 'viber' },
            whatsapp: { icon: 'fab fa-whatsapp', label: 'WhatsApp', class: 'whatsapp' },
            messenger: { icon: 'fab fa-facebook-messenger', label: 'Messenger', class: 'messenger' },
            threads: { icon: 'fab fa-threads', label: 'Threads', class: 'threads' },
            reddit: { icon: 'fab fa-reddit', label: 'Reddit', class: 'reddit' },
            pinterest: { icon: 'fab fa-pinterest', label: 'Pinterest', class: 'pinterest' },
            snapchat: { icon: 'fab fa-snapchat', label: 'Snapchat', class: 'snapchat' },
            spotify: { icon: 'fab fa-spotify', label: 'Spotify', class: 'spotify' },
            soundcloud: { icon: 'fab fa-soundcloud', label: 'SoundCloud', class: 'soundcloud' },
            'apple-music': { icon: 'fab fa-apple', label: 'Apple Music', class: 'apple-music' },
            'youtube-music': { icon: 'fab fa-youtube', label: 'YouTube Music', class: 'youtube-music' },
            medium: { icon: 'fab fa-medium', label: 'Medium', class: 'medium' },
            wordpress: { icon: 'fab fa-wordpress', label: 'WordPress', class: 'wordpress' },
            blogger: { icon: 'fab fa-blogger', label: 'Blogger', class: 'blogger' },
            vimeo: { icon: 'fab fa-vimeo', label: 'Vimeo', class: 'vimeo' },
            netflix: { icon: 'fas fa-film', label: 'Netflix', class: 'netflix' },
            xbox: { icon: 'fab fa-xbox', label: 'Xbox', class: 'xbox' },
            playstation: { icon: 'fab fa-playstation', label: 'PlayStation', class: 'playstation' },
            nintendo: { icon: 'fas fa-gamepad', label: 'Nintendo Switch', class: 'nintendo' },
            'epic-games': { icon: 'fas fa-shopping-bag', label: 'Epic Games', class: 'epic-games' },
            'battle-net': { icon: 'fas fa-gamepad', label: 'Battle.net', class: 'battle-net' },
            riot: { icon: 'fas fa-gamepad', label: 'Riot Games', class: 'riot' },
            document: { icon: 'fas fa-file-alt', label: 'T√†i li·ªáu', class: 'document' },
            news: { icon: 'fas fa-newspaper', label: 'Tin t·ª©c', class: 'news' },
            blog: { icon: 'fas fa-blog', label: 'Blog', class: 'blog' },
            music: { icon: 'fas fa-music', label: '√Çm nh·∫°c', class: 'music' },
            video: { icon: 'fas fa-video', label: 'Video', class: 'video' },
            game: { icon: 'fas fa-gamepad', label: 'Game', class: 'game' },
            podcast: { icon: 'fas fa-podcast', label: 'Podcast', class: 'podcast' },
            patreon: { icon: 'fab fa-patreon', label: 'Patreon', class: 'patreon' },
            'ko-fi': { icon: 'fas fa-coffee', label: 'Ko-fi', class: 'ko-fi' },
            paypal: { icon: 'fab fa-paypal', label: 'PayPal', class: 'paypal' },
            donate: { icon: 'fas fa-donate', label: 'Donate', class: 'donate' },
            phone: { icon: 'fas fa-phone', label: 'ƒêi·ªán tho·∫°i', class: 'phone' },
            map: { icon: 'fas fa-map-marker-alt', label: 'ƒê·ªãa ch·ªâ', class: 'map' },
            calendar: { icon: 'fas fa-calendar', label: 'L·ªãch', class: 'calendar' },
            link: { icon: 'fas fa-link', label: 'Link', class: 'link' }
        };

        const D = {
            lang: 'vi', font: "'Segoe UI', sans-serif", layout: '2col',
            title_vi: 'TI√äU ƒê·ªÄ L·ªöN', title_en: 'MAIN TITLE',
            titleColor: '#667eea', titleSize: 3.5,
            fs: { main: 3.5, card: 2, desc: 1.05, social: 1 },
            bg: { img: 'IMG/BG-NguyeZ.webp', op: 30, ov: 50, bl: 0, c1: '#0f0c29', c2: '#302b63', c3: '#24243e' },
            bankCards: [],
            cards: [
                {
                    id: 1,
                    av: 'IMG/AVT-NguyeZGaming.png',
                    t_vi: 'NguyeZ Gaming',
                    t_en: 'NguyeZ Gaming',
                    d_vi: 'Lorem Ipsum ch·ªâ ƒë∆°n gi·∫£n l√† m·ªôt ƒëo·∫°n vƒÉn b·∫£n gi·∫£<br> ƒë∆∞·ª£c d√πng v√†o vi·ªác tr√¨nh b√†y v√† d√†n trang ph·ª•c v·ª• cho in ·∫•n.<br>ƒê√¢y l√† v√≠ d·ª• cho d√≤ng m√¥ t·∫£ ng·∫Øn.',
                    d_en: 'Lorem Ipsum is simply dummy text<br> of the printing and typesetting industry.<br>This is an example of a short description line.',
                    avatarColors: { c1: '#ff6b35', c2: '#f7931e', c3: '#ffd700' },
                    soc: [
                        { type: 'youtube', url: 'https://youtube.com/ncn1992vn', label: '' },
                        { type: 'discord', url: '#', label: '' },
                        { type: 'website', url: '#', label: '' },
                        { type: 'twitch', url: '#', label: '' }
                    ]
                },
                {
                    id: 2,
                    av: 'IMG/AVT-NguyeZGaming.png',
                    t_vi: 'NguyeZ Gaming 2',
                    t_en: 'NguyeZ Gaming 2',
                    d_vi: 'Lorem Ipsum ch·ªâ ƒë∆°n gi·∫£n l√† m·ªôt ƒëo·∫°n vƒÉn b·∫£n gi·∫£<br> ƒë∆∞·ª£c d√πng v√†o vi·ªác tr√¨nh b√†y v√† d√†n trang ph·ª•c v·ª• cho in ·∫•n.<br>ƒê√¢y l√† v√≠ d·ª• cho d√≤ng m√¥ t·∫£ ng·∫Øn.',
                    d_en: 'Lorem Ipsum is simply dummy text<br> of the printing and typesetting industry.<br>This is an example of a short description line.',
                    avatarColors: { c1: '#11998e', c2: '#38ef7d', c3: '#7bed9f' },
                    soc: [
                        { type: 'email', url: '#', label: '' },
                        { type: 'forum', url: '#', label: '' },
                        { type: 'google-sheet', url: '#', label: '' },
                        { type: 'google-form', url: '#', label: '' }
                    ]
                }
            ]
        };

        let S = JSON.parse(JSON.stringify(D));
        let L = 'vi';
        let nextCardId = 3;

        try { 
            const sv = localStorage.getItem('ngZ'); 
            if(sv) { 
                const p = JSON.parse(sv); 
                // Backward compatibility: convert old c1, c2 format to cards array
                if(p.c1 && p.c2 && !p.cards) {
                    p.cards = [
                        {
                            id: 1,
                            av: p.c1.av,
                            t_vi: p.c1.t_vi,
                            t_en: p.c1.t_en,
                            d_vi: p.c1.d_vi,
                            d_en: p.c1.d_en,
                            avatarColors: p.avatarColors1 || D.cards[0].avatarColors,
                            soc: p.c1.soc || []
                        },
                        {
                            id: 2,
                            av: p.c2.av,
                            t_vi: p.c2.t_vi,
                            t_en: p.c2.t_en,
                            d_vi: p.c2.d_vi,
                            d_en: p.c2.d_en,
                            avatarColors: p.avatarColors2 || D.cards[1].avatarColors,
                            soc: p.c2.soc || []
                        }
                    ];
                    delete p.c1;
                    delete p.c2;
                    delete p.avatarColors1;
                    delete p.avatarColors2;
                }
                if(p.cards) {
                    S = p;
                    L = S.lang || 'vi';
                    // Find max card ID
                    const maxId = Math.max(...S.cards.map(c => c.id));
                    nextCardId = maxId + 1;
                }
            } 
        } catch(e) {}
        
        // Ensure cards array exists
        if (!S.cards || !Array.isArray(S.cards)) {
            S.cards = JSON.parse(JSON.stringify(D.cards));
        }
        
        // Ensure each card has required fields
        S.cards.forEach(card => {
            if (!card.soc) card.soc = [];
            if (!card.avatarColors) card.avatarColors = { c1: '#667eea', c2: '#764ba2', c3: '#f093fb' };
            card.soc.forEach(s => { if (s.label === undefined) s.label = ''; });
        });
        
        // Ensure main title fields exist
        if (!S.title_vi) S.title_vi = D.title_vi;
        if (!S.title_en) S.title_en = D.title_en;
        
        // Ensure layout field exists
        if (!S.layout) S.layout = D.layout;
        
        // Ensure title color and size exist
        if (!S.titleColor) S.titleColor = D.titleColor;
        if (!S.titleSize) S.titleSize = D.titleSize;
        
        // Ensure bank cards array exists
        if (!S.bankCards) S.bankCards = [];

        const g = id => document.getElementById(id);
        const $$ = s => document.querySelectorAll(s);

        function init() {
            g('btnVi').onclick = () => sw('vi');
            g('btnEn').onclick = () => sw('en');
            
            // Font dropdown
            g('fontBtn').onclick = () => {
                g('fontDropdown').classList.toggle('show');
                g('fontBtn').classList.toggle('active');
            };
            
            document.querySelectorAll('.font-option').forEach(opt => {
                opt.onclick = () => {
                    const font = opt.dataset.font;
                    S.font = font;
                    document.body.style.fontFamily = font;
                    document.querySelectorAll('.font-option').forEach(o => o.classList.remove('active'));
                    opt.classList.add('active');
                    g('fontDropdown').classList.remove('show');
                    g('fontBtn').classList.remove('active');
                };
            });
            
            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.font-selector')) {
                    g('fontDropdown').classList.remove('show');
                    g('fontBtn').classList.remove('active');
                }
            });
            
            g('settingsBtn').onclick = () => g('settingsPanel').classList.add('active');
            g('closeBtn').onclick = () => g('settingsPanel').classList.remove('active');
            g('saveBtn').onclick = save;
            g('resetBtn').onclick = reset;
            g('exportBtn').onclick = exp;
            g('importBtn').onclick = () => g('importFile').click();
            g('importFile').onchange = imp;

            g('layoutSelect').onchange = () => { S.layout = g('layoutSelect').value; renderAllCards(); };
            
            g('mainTitleColor').oninput = upMainTitle;
            g('mainTitleSize').oninput = upMainTitle;
            
            ['mainSize','cardSize','descSize','socialSize'].forEach(id => g(id).oninput = upFs);
            
            // Background settings
            g('bgImage').oninput = upBg;
            g('bgC1').oninput = upBg;
            g('bgC2').oninput = upBg;
            g('bgC3').oninput = upBg;
            g('bgOp').oninput = () => { g('bgOpVal').textContent = g('bgOp').value + '%'; upBg(); };
            g('bgOv').oninput = () => { g('bgOvVal').textContent = g('bgOv').value + '%'; upBg(); };
            g('bgBl').oninput = () => { g('bgBlVal').textContent = g('bgBl').value + 'px'; upBg(); };

            g('mainTitle_vi').oninput = upCt;
            g('mainTitle_en').oninput = upCt;

            load();
        }

        function sw(l) {
            L = l; S.lang = l;
            g('btnVi').classList.toggle('active', l === 'vi');
            g('btnEn').classList.toggle('active', l === 'en');
            upCt();
            renderAllCards();
        }

        function applyLayout() {
            const container = document.querySelector('.container');
            
            // Layout 1 c·ªôt: t·∫•t c·∫£ n·∫±m gi·ªØa, 1 card/d√≤ng
            if (S.layout === '1col') {
                container.classList.add('layout-1col');
            } else {
                // Layout 2 c·ªôt: PC 2 cards/d√≤ng, mobile 1 card/d√≤ng
                container.classList.remove('layout-1col');
            }
            
            // Check if has bank cards ƒë·ªÉ hi·ªÉn th·ªã bank container
            if (S.bankCards && S.bankCards.length > 0) {
                container.classList.add('has-banks');
            } else {
                container.classList.remove('has-banks');
            }
        }

        function load() {
            document.body.style.fontFamily = S.font;
            document.querySelectorAll('.font-option').forEach(opt => {
                opt.classList.toggle('active', opt.dataset.font === S.font);
            });

            g('mainTitle_vi').value = S.title_vi || 'TI√äU ƒê·ªÄ L·ªöN';
            g('mainTitle_en').value = S.title_en || 'MAIN TITLE';
            g('mainTitleColor').value = S.titleColor || '#667eea';
            g('mainTitleSize').value = S.titleSize || 3.5;
            g('mainTitleSizeVal').textContent = (S.titleSize || 3.5) + 'rem';
            
            g('layoutSelect').value = S.layout || '2col';

            g('mainSize').value = S.fs.main; g('cardSize').value = S.fs.card;
            g('descSize').value = S.fs.desc; g('socialSize').value = S.fs.social;
            upFs();

            g('bgImage').value = S.bg.img || '';
            g('bgOp').value = S.bg.op; g('bgOv').value = S.bg.ov; g('bgBl').value = S.bg.bl;
            g('bgC1').value = S.bg.c1; g('bgC2').value = S.bg.c2; g('bgC3').value = S.bg.c3;
            g('bgOpVal').textContent = S.bg.op + '%'; g('bgOvVal').textContent = S.bg.ov + '%'; g('bgBlVal').textContent = S.bg.bl + 'px';
            upBg();

            renderCardsSettings();
            renderAllCards();
            renderBankCardsInputs();

            sw(S.lang);
            applyLayout();
            upMainTitle(); // Apply title color and size
            upCt(); // Update main title on load
        }

        function renderSocialInputs(cardNum) {
            const card = S['c' + cardNum];
            const list = g('social' + cardNum + 'List');
            list.innerHTML = '';
            card.soc.forEach((s, i) => {
                const div = document.createElement('div');
                div.className = 'social-item';
                div.innerHTML = '<div class="social-item-header"><span class="social-item-title">Link ' + (i+1) + '</span><button class="remove-social-btn" onclick="removeSocial(' + cardNum + ',' + i + ')">X√≥a</button></div>';
                
                const selLbl = document.createElement('label');
                selLbl.textContent = 'Icon:';
                
                // Custom icon selector
                const iconSelector = document.createElement('div');
                iconSelector.className = 'icon-selector';
                iconSelector.style.marginBottom = '10px';
                
                const selBtn = document.createElement('button');
                selBtn.type = 'button';
                selBtn.className = 'icon-selector-button';
                const currentIcon = ICONS[s.type];
                selBtn.innerHTML = '<i class="' + currentIcon.icon + '"></i><span>' + currentIcon.label + '</span>';
                
                const dropdown = document.createElement('div');
                dropdown.className = 'icon-dropdown';
                
                Object.keys(ICONS).forEach(k => {
                    const opt = document.createElement('div');
                    opt.className = 'icon-option' + (k === s.type ? ' selected' : '');
                    const ico = ICONS[k];
                    opt.innerHTML = '<i class="' + ico.icon + '"></i><span>' + ico.label + '</span>';
                    opt.onclick = () => {
                        card.soc[i].type = k;
                        selBtn.innerHTML = '<i class="' + ico.icon + '"></i><span>' + ico.label + '</span>';
                        dropdown.classList.remove('show');
                        renderSocialLinks(cardNum);
                        // Update selected state
                        dropdown.querySelectorAll('.icon-option').forEach(o => o.classList.remove('selected'));
                        opt.classList.add('selected');
                    };
                    dropdown.appendChild(opt);
                });
                
                selBtn.onclick = (e) => {
                    e.stopPropagation();
                    // Close all other dropdowns
                    document.querySelectorAll('.icon-dropdown.show').forEach(d => {
                        if (d !== dropdown) d.classList.remove('show');
                    });
                    dropdown.classList.toggle('show');
                };
                
                // Close dropdown when clicking outside
                document.addEventListener('click', (e) => {
                    if (!iconSelector.contains(e.target)) {
                        dropdown.classList.remove('show');
                    }
                });
                
                iconSelector.appendChild(selBtn);
                iconSelector.appendChild(dropdown);
                
                const urlLbl = document.createElement('label');
                urlLbl.textContent = 'URL:';
                const urlIn = document.createElement('input');
                urlIn.type = 'text';
                urlIn.placeholder = 'https://...';
                urlIn.value = s.url || '';
                urlIn.oninput = () => { card.soc[i].url = urlIn.value; renderSocialLinks(cardNum); };
                
                const lblLbl = document.createElement('label');
                lblLbl.innerHTML = 'Text hi·ªÉn th·ªã: <span style="color:#667eea;font-size:0.85rem">(ƒë·ªÉ tr·ªëng = d√πng t√™n icon)</span>';
                const lblIn = document.createElement('input');
                lblIn.type = 'text';
                lblIn.placeholder = 'V√≠ d·ª•: K√™nh Gaming, Li√™n h·ªá...';
                lblIn.value = s.label || '';
                lblIn.style.marginBottom = '0';
                lblIn.oninput = () => { card.soc[i].label = lblIn.value; renderSocialLinks(cardNum); };
                
                div.appendChild(selLbl);
                div.appendChild(iconSelector);
                div.appendChild(urlLbl);
                div.appendChild(urlIn);
                div.appendChild(lblLbl);
                div.appendChild(lblIn);
                list.appendChild(div);
            });
        }

        function addSocial(cardNum) {
            const card = S['c' + cardNum];
            card.soc.push({ type: 'website', url: '', label: '' });
            renderSocialInputs(cardNum);
            renderSocialLinks(cardNum);
        }

        function removeSocial(cardNum, idx) {
            const card = S['c' + cardNum];
            card.soc.splice(idx, 1);
            renderSocialInputs(cardNum);
            renderSocialLinks(cardNum);
        }

        // Make functions globally accessible
        window.addSocial = addSocial;
        window.removeSocial = removeSocial;
        
        // Bank Cards Management
        let nextBankCardId = 11;
        
        // Initialize nextBankCardId based on existing cards
        if (S.bankCards && S.bankCards.length > 0) {
            const maxId = Math.max(...S.bankCards.map(c => c.id));
            nextBankCardId = maxId + 1;
        }
        
        function addBankCard() {
            S.bankCards.push({
                id: nextBankCardId++,
                qrUrl: 'IMG/QR1.jpg',
                name_vi: 'T√™n Ng√¢n H√†ng',
                name_en: 'Bank Name',
                desc_vi: 'Nguy·ªÖn VƒÉn A',
                desc_en: 'Ria Sakurai',
                accountInfo: '',
                colors: {
                    qrBorder: '#667eea',
                    name: '#ffffff',
                    desc: '#a8b2d1',
                    infoBg: 'rgba(15, 12, 41, 0.5)',
                    infoBorder: 'rgba(102, 126, 234, 0.3)',
                    infoText: '#ffffff'
                }
            });
            renderBankCardsInputs();
            renderAllCards();
        }
        
        function removeBankCard(idx) {
            S.bankCards.splice(idx, 1);
            renderBankCardsInputs();
            renderAllCards();
        }
        
        function renderBankCardsInputs() {
            const list = g('bankCardsList');
            list.innerHTML = '';
            
            S.bankCards.forEach((card, i) => {
                const div = document.createElement('div');
                div.className = 'social-item';
                div.style.marginBottom = '25px';
                div.innerHTML = `
                    <div class="social-item-header">
                        <span class="social-item-title">üí≥ Th·∫ª ${card.id}</span>
                        <button class="remove-social-btn" onclick="removeBankCard(${i})">X√≥a</button>
                    </div>
                `;
                
                // QR Image URL
                const qrLbl = document.createElement('label');
                qrLbl.textContent = 'QR Code Image URL:';
                const qrIn = document.createElement('input');
                qrIn.type = 'text';
                qrIn.placeholder = 'IMG/qr-bank.png';
                qrIn.value = card.qrUrl || '';
                qrIn.oninput = () => { S.bankCards[i].qrUrl = qrIn.value; renderBankCards(); };
                
                // Bank Name
                const nameLblVi = document.createElement('label');
                nameLblVi.textContent = 'T√™n ng√¢n h√†ng (Vi·ªát):';
                const nameInVi = document.createElement('input');
                nameInVi.type = 'text';
                nameInVi.placeholder = 'VD: Techcombank, Vietcombank...';
                nameInVi.value = card.name_vi || '';
                nameInVi.oninput = () => { S.bankCards[i].name_vi = nameInVi.value; renderBankCards(); };
                
                const nameLblEn = document.createElement('label');
                nameLblEn.textContent = 'Bank Name (English):';
                const nameInEn = document.createElement('input');
                nameInEn.type = 'text';
                nameInEn.placeholder = 'Ex: Techcombank, Vietcombank...';
                nameInEn.value = card.name_en || '';
                nameInEn.oninput = () => { S.bankCards[i].name_en = nameInEn.value; renderBankCards(); };
                
                // Description
                const descLblVi = document.createElement('label');
                descLblVi.textContent = 'M√¥ t·∫£ (Vi·ªát) - c√≥ th·ªÉ ƒë·ªÉ tr·ªëng:';
                const descInVi = document.createElement('input');
                descInVi.type = 'text';
                descInVi.placeholder = 'VD: Chuy·ªÉn kho·∫£n nhanh, H·ªó tr·ª£ donate...';
                descInVi.value = card.desc_vi || '';
                descInVi.oninput = () => { S.bankCards[i].desc_vi = descInVi.value; renderBankCards(); };
                
                const descLblEn = document.createElement('label');
                descLblEn.textContent = 'Description (English) - optional:';
                const descInEn = document.createElement('input');
                descInEn.type = 'text';
                descInEn.placeholder = 'Ex: Fast transfer, Support donate...';
                descInEn.value = card.desc_en || '';
                descInEn.oninput = () => { S.bankCards[i].desc_en = descInEn.value; renderBankCards(); };
                
                // Account Info
                const infoLbl = document.createElement('label');
                infoLbl.textContent = 'S·ªë TK / T√™n TK / Th√¥ng tin:';
                const infoIn = document.createElement('input');
                infoIn.type = 'text';
                infoIn.placeholder = '1234567890 - NGUYEN VAN A';
                infoIn.value = card.accountInfo || '';
                infoIn.oninput = () => { S.bankCards[i].accountInfo = infoIn.value; renderBankCards(); };
                
                // Color customization
                const colorLbl = document.createElement('label');
                colorLbl.innerHTML = 'üé® Tu·ª≥ ch·ªânh m√†u s·∫Øc:';
                colorLbl.style.marginTop = '15px';
                colorLbl.style.marginBottom = '10px';
                
                const colorGrid = document.createElement('div');
                colorGrid.className = 'font-size-grid';
                colorGrid.style.gridTemplateColumns = 'repeat(3, 1fr)';
                
                const colors = [
                    { key: 'qrBorder', label: 'Vi·ªÅn QR', val: card.colors.qrBorder },
                    { key: 'name', label: 'T√™n NH', val: card.colors.name },
                    { key: 'desc', label: 'M√¥ t·∫£', val: card.colors.desc },
                    { key: 'infoBg', label: 'N·ªÅn Info', val: card.colors.infoBg, isRgba: true },
                    { key: 'infoBorder', label: 'Vi·ªÅn Info', val: card.colors.infoBorder, isRgba: true },
                    { key: 'infoText', label: 'Text Info', val: card.colors.infoText }
                ];
                
                colors.forEach(c => {
                    const colDiv = document.createElement('div');
                    const lbl = document.createElement('label');
                    lbl.textContent = c.label + ':';
                    lbl.style.marginBottom = '5px';
                    
                    if (c.isRgba) {
                        const inp = document.createElement('input');
                        inp.type = 'text';
                        inp.placeholder = c.val;
                        inp.value = c.val;
                        inp.style.fontSize = '0.85rem';
                        inp.oninput = () => {
                            S.bankCards[i].colors[c.key] = inp.value;
                            renderAllCards();
                        };
                        colDiv.appendChild(lbl);
                        colDiv.appendChild(inp);
                    } else {
                        const inp = document.createElement('input');
                        inp.type = 'color';
                        inp.value = c.val;
                        inp.oninput = () => {
                            S.bankCards[i].colors[c.key] = inp.value;
                            renderAllCards();
                        };
                        colDiv.appendChild(lbl);
                        colDiv.appendChild(inp);
                    }
                    
                    colorGrid.appendChild(colDiv);
                });
                
                div.appendChild(qrLbl);
                div.appendChild(qrIn);
                div.appendChild(nameLblVi);
                div.appendChild(nameInVi);
                div.appendChild(nameLblEn);
                div.appendChild(nameInEn);
                div.appendChild(descLblVi);
                div.appendChild(descInVi);
                div.appendChild(descLblEn);
                div.appendChild(descInEn);
                div.appendChild(infoLbl);
                div.appendChild(infoIn);
                div.appendChild(colorLbl);
                div.appendChild(colorGrid);
                
                list.appendChild(div);
            });
        }
        
        // Function renderBankCards() ƒë√£ ƒë∆∞·ª£c g·ªôp v√†o renderAllCards()
        /*
        function renderBankCards() {
            const container = g('bankCardsContainer');
            container.innerHTML = '';
            
            S.bankCards.forEach(card => {
                const k = L === 'vi' ? '_vi' : '_en';
                const name = card['name' + k] || card.name_vi;
                const desc = card['desc' + k] || '';
                
                const cardDiv = document.createElement('div');
                cardDiv.className = 'bank-card';
                
                const cardNumBadge = document.createElement('div');
                cardNumBadge.className = 'bank-card-number';
                cardNumBadge.textContent = '#' + card.id;
                
                const qrDiv = document.createElement('div');
                qrDiv.className = 'bank-qr';
                qrDiv.style.borderColor = card.colors.qrBorder;
                const qrImg = document.createElement('img');
                qrImg.src = card.qrUrl || 'https://via.placeholder.com/180?text=QR+Code';
                qrImg.alt = 'QR Code';
                qrDiv.appendChild(qrImg);
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'bank-name';
                nameDiv.textContent = name;
                nameDiv.style.color = card.colors.name;
                
                const descDiv = document.createElement('div');
                descDiv.className = 'bank-desc';
                descDiv.textContent = desc;
                descDiv.style.color = card.colors.desc;
                
                const infoDiv = document.createElement('div');
                infoDiv.className = 'bank-info';
                infoDiv.style.background = card.colors.infoBg;
                infoDiv.style.borderColor = card.colors.infoBorder;
                
                const numSpan = document.createElement('span');
                numSpan.className = 'bank-number';
                numSpan.textContent = card.accountInfo || 'Ch∆∞a c√≥ th√¥ng tin';
                numSpan.style.color = card.colors.infoText;
                
                // Function to handle copy action
                const handleCopy = (btn) => {
                    if (!card.accountInfo) return;
                    
                    const icon = btn.querySelector('i');
                    const tooltip = btn.querySelector('.copy-tooltip');
                    
                    navigator.clipboard.writeText(card.accountInfo).then(() => {
                        btn.classList.add('copied');
                        icon.className = 'fas fa-check';
                        tooltip.classList.add('show');
                        
                        setTimeout(() => { 
                            btn.classList.remove('copied');
                            icon.className = 'fas fa-copy';
                            tooltip.classList.remove('show');
                        }, 2000);
                    }).catch(err => {
                        // Fallback for older browsers or mobile
                        const textArea = document.createElement('textarea');
                        textArea.value = card.accountInfo;
                        textArea.style.position = 'fixed';
                        textArea.style.left = '-999999px';
                        document.body.appendChild(textArea);
                        textArea.select();
                        try {
                            document.execCommand('copy');
                            btn.classList.add('copied');
                            icon.className = 'fas fa-check';
                            tooltip.classList.add('show');
                            setTimeout(() => { 
                                btn.classList.remove('copied');
                                icon.className = 'fas fa-copy';
                                tooltip.classList.remove('show');
                            }, 2000);
                        } catch (err) {
                            console.error('Copy failed:', err);
                        }
                        document.body.removeChild(textArea);
                    });
                };
                
                // Left copy button
                const copyBtnLeft = document.createElement('button');
                copyBtnLeft.className = 'copy-btn';
                copyBtnLeft.innerHTML = '<i class="fas fa-copy"></i>';
                const tooltipLeft = document.createElement('div');
                tooltipLeft.className = 'copy-tooltip';
                tooltipLeft.textContent = L === 'vi' ? '‚úì ƒê√£ sao ch√©p!' : '‚úì Copied!';
                copyBtnLeft.appendChild(tooltipLeft);
                copyBtnLeft.onclick = () => handleCopy(copyBtnLeft);
                
                // Right copy button
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.innerHTML = '<i class="fas fa-copy"></i>';
                const tooltip = document.createElement('div');
                tooltip.className = 'copy-tooltip';
                tooltip.textContent = L === 'vi' ? '‚úì ƒê√£ sao ch√©p!' : '‚úì Copied!';
                copyBtn.appendChild(tooltip);
                copyBtn.onclick = () => handleCopy(copyBtn);
                
                infoDiv.appendChild(copyBtnLeft);
                infoDiv.appendChild(numSpan);
                infoDiv.appendChild(copyBtn);
                
                cardDiv.appendChild(cardNumBadge);
                cardDiv.appendChild(qrDiv);
                cardDiv.appendChild(nameDiv);
                cardDiv.appendChild(descDiv);
                cardDiv.appendChild(infoDiv);
                
                container.appendChild(cardDiv);
            });
            
            // Re-apply layout after rendering bank cards
            applyLayout();
        }
        */
        
        window.addBankCard = addBankCard;
        window.removeBankCard = removeBankCard;
        
        // Cards Management Functions
        function addCard() {
            if (S.cards.length >= 10) {
                alert('‚ö†Ô∏è ƒê√£ ƒë·∫°t gi·ªõi h·∫°n t·ªëi ƒëa 10 cards!');
                return;
            }
            S.cards.push({
                id: nextCardId++,
                av: 'IMG/AVT-NguyeZGaming.png',
                t_vi: 'Card M·ªõi',
                t_en: 'New Card',
                d_vi: 'M√¥ t·∫£ card m·ªõi',
                d_en: 'New card description',
                avatarColors: { c1: '#667eea', c2: '#764ba2', c3: '#f093fb' },
                soc: []
            });
            renderCardsSettings();
            renderAllCards();
            updateAddCardButton();
        }
        
        function removeCard(idx) {
            if (S.cards.length <= 1) {
                alert('‚ö†Ô∏è Ph·∫£i gi·ªØ √≠t nh·∫•t 1 card!');
                return;
            }
            S.cards.splice(idx, 1);
            renderCardsSettings();
            renderAllCards();
            updateAddCardButton();
        }
        
        function updateAddCardButton() {
            const btn = g('addCardBtn');
            if (btn) {
                btn.disabled = S.cards.length >= 10;
                btn.style.opacity = S.cards.length >= 10 ? '0.5' : '1';
                btn.style.cursor = S.cards.length >= 10 ? 'not-allowed' : 'pointer';
            }
        }
        
        function renderCardsSettings() {
            const list = g('cardsListSettings');
            list.innerHTML = '';
            
            S.cards.forEach((card, idx) => {
                const section = document.createElement('div');
                section.className = 'social-item';
                section.style.marginBottom = '30px';
                section.style.padding = '20px';
                
                const header = document.createElement('div');
                header.className = 'social-item-header';
                header.innerHTML = `<span class="social-item-title">üë§ Card #${card.id}</span>`;
                
                if (S.cards.length > 1) {
                    const removeBtn = document.createElement('button');
                    removeBtn.className = 'remove-social-btn';
                    removeBtn.textContent = 'X√≥a Card';
                    removeBtn.onclick = () => removeCard(idx);
                    header.appendChild(removeBtn);
                }
                
                section.appendChild(header);
                
                // Avatar URL
                const avLabel = document.createElement('label');
                avLabel.textContent = 'Avatar URL:';
                const avInput = document.createElement('input');
                avInput.type = 'text';
                avInput.placeholder = 'IMG/avatar.jpg';
                avInput.value = card.av || '';
                avInput.oninput = () => { S.cards[idx].av = avInput.value; renderAllCards(); };
                
                // Avatar Colors
                const colorLabel = document.createElement('label');
                colorLabel.innerHTML = 'üé® M√†u vi·ªÅn Avatar (Gradient 3 m√†u):';
                colorLabel.style.marginTop = '15px';
                
                const colorGrid = document.createElement('div');
                colorGrid.className = 'font-size-grid';
                colorGrid.style.gridTemplateColumns = 'repeat(3, 1fr)';
                colorGrid.style.margin = '10px 0';
                
                ['c1', 'c2', 'c3'].forEach((key, i) => {
                    const div = document.createElement('div');
                    const lbl = document.createElement('label');
                    lbl.textContent = `M√†u ${i + 1}:`;
                    const inp = document.createElement('input');
                    inp.type = 'color';
                    inp.value = card.avatarColors[key];
                    inp.oninput = () => { S.cards[idx].avatarColors[key] = inp.value; renderAllCards(); };
                    div.appendChild(lbl);
                    div.appendChild(inp);
                    colorGrid.appendChild(div);
                });
                
                // Titles
                const titleViLabel = document.createElement('label');
                titleViLabel.textContent = 'Ti√™u ƒë·ªÅ (Vi·ªát):';
                titleViLabel.style.marginTop = '15px';
                const titleViInput = document.createElement('input');
                titleViInput.type = 'text';
                titleViInput.placeholder = 'T√™n card';
                titleViInput.value = card.t_vi || '';
                titleViInput.oninput = () => { S.cards[idx].t_vi = titleViInput.value; renderAllCards(); };
                
                const titleEnLabel = document.createElement('label');
                titleEnLabel.textContent = 'Title (English):';
                const titleEnInput = document.createElement('input');
                titleEnInput.type = 'text';
                titleEnInput.placeholder = 'Card name';
                titleEnInput.value = card.t_en || '';
                titleEnInput.oninput = () => { S.cards[idx].t_en = titleEnInput.value; renderAllCards(); };
                
                // Descriptions
                const descViLabel = document.createElement('label');
                descViLabel.innerHTML = 'M√¥ t·∫£ (Vi·ªát): <span style="color:#667eea;font-size:0.85rem">‚ú® HTML: &lt;b&gt; &lt;br&gt; &lt;i&gt;</span>';
                const descViInput = document.createElement('textarea');
                descViInput.placeholder = 'D√πng <b>in ƒë·∫≠m</b> v√† <br> xu·ªëng d√≤ng';
                descViInput.value = card.d_vi || '';
                descViInput.oninput = () => { S.cards[idx].d_vi = descViInput.value; renderAllCards(); };
                
                const descEnLabel = document.createElement('label');
                descEnLabel.innerHTML = 'Description (English): <span style="color:#667eea;font-size:0.85rem">‚ú® HTML: &lt;b&gt; &lt;br&gt; &lt;i&gt;</span>';
                const descEnInput = document.createElement('textarea');
                descEnInput.placeholder = 'Use <b>bold</b> and <br> line break';
                descEnInput.value = card.d_en || '';
                descEnInput.oninput = () => { S.cards[idx].d_en = descEnInput.value; renderAllCards(); };
                
                // Social Links
                const socialHeader = document.createElement('h4');
                socialHeader.style.color = '#a8b2d1';
                socialHeader.style.margin = '20px 0 15px';
                socialHeader.textContent = 'üîó Social Links';
                
                const socialList = document.createElement('div');
                socialList.id = `socialList_${card.id}`;
                
                const addSocialBtn = document.createElement('button');
                addSocialBtn.className = 'add-social-btn';
                addSocialBtn.textContent = '+ Th√™m Social Link';
                addSocialBtn.onclick = () => addSocialToCard(idx);
                
                section.appendChild(avLabel);
                section.appendChild(avInput);
                section.appendChild(colorLabel);
                section.appendChild(colorGrid);
                section.appendChild(titleViLabel);
                section.appendChild(titleViInput);
                section.appendChild(titleEnLabel);
                section.appendChild(titleEnInput);
                section.appendChild(descViLabel);
                section.appendChild(descViInput);
                section.appendChild(descEnLabel);
                section.appendChild(descEnInput);
                section.appendChild(socialHeader);
                section.appendChild(socialList);
                section.appendChild(addSocialBtn);
                
                list.appendChild(section);
                
                // Render social links for this card
                renderSocialInputsForCard(idx);
            });
            
            updateAddCardButton();
        }
        
        function addSocialToCard(cardIdx) {
            S.cards[cardIdx].soc.push({ type: 'website', url: '', label: '' });
            renderSocialInputsForCard(cardIdx);
        }
        
        function removeSocialFromCard(cardIdx, socIdx) {
            S.cards[cardIdx].soc.splice(socIdx, 1);
            renderSocialInputsForCard(cardIdx);
        }
        
        function renderSocialInputsForCard(cardIdx) {
            const card = S.cards[cardIdx];
            const list = g(`socialList_${card.id}`);
            if (!list) return;
            
            list.innerHTML = '';
            card.soc.forEach((s, i) => {
                const div = document.createElement('div');
                div.className = 'social-item';
                div.innerHTML = '<div class="social-item-header"><span class="social-item-title">Link ' + (i+1) + '</span><button class="remove-social-btn" onclick="removeSocialFromCard(' + cardIdx + ',' + i + ')">X√≥a</button></div>';
                
                const selLbl = document.createElement('label');
                selLbl.textContent = 'Icon:';
                
                const iconSelector = document.createElement('div');
                iconSelector.className = 'icon-selector';
                iconSelector.style.marginBottom = '10px';
                
                const selBtn = document.createElement('button');
                selBtn.type = 'button';
                selBtn.className = 'icon-selector-button';
                const currentIcon = ICONS[s.type];
                selBtn.innerHTML = '<i class="' + currentIcon.icon + '"></i><span>' + currentIcon.label + '</span>';
                
                const dropdown = document.createElement('div');
                dropdown.className = 'icon-dropdown';
                
                Object.keys(ICONS).forEach(k => {
                    const opt = document.createElement('div');
                    opt.className = 'icon-option' + (k === s.type ? ' selected' : '');
                    const ico = ICONS[k];
                    opt.innerHTML = '<i class="' + ico.icon + '"></i><span>' + ico.label + '</span>';
                    opt.onclick = () => {
                        S.cards[cardIdx].soc[i].type = k;
                        selBtn.innerHTML = '<i class="' + ico.icon + '"></i><span>' + ico.label + '</span>';
                        dropdown.classList.remove('show');
                        renderAllCards();
                        dropdown.querySelectorAll('.icon-option').forEach(o => o.classList.remove('selected'));
                        opt.classList.add('selected');
                    };
                    dropdown.appendChild(opt);
                });
                
                selBtn.onclick = (e) => {
                    e.stopPropagation();
                    document.querySelectorAll('.icon-dropdown.show').forEach(d => {
                        if (d !== dropdown) d.classList.remove('show');
                    });
                    dropdown.classList.toggle('show');
                };
                
                document.addEventListener('click', (e) => {
                    if (!iconSelector.contains(e.target)) {
                        dropdown.classList.remove('show');
                    }
                });
                
                iconSelector.appendChild(selBtn);
                iconSelector.appendChild(dropdown);
                
                const urlLbl = document.createElement('label');
                urlLbl.textContent = 'URL:';
                const urlIn = document.createElement('input');
                urlIn.type = 'text';
                urlIn.placeholder = 'https://...';
                urlIn.value = s.url || '';
                urlIn.oninput = () => { S.cards[cardIdx].soc[i].url = urlIn.value; renderAllCards(); };
                
                const lblLbl = document.createElement('label');
                lblLbl.innerHTML = 'Text hi·ªÉn th·ªã: <span style="color:#667eea;font-size:0.85rem">(ƒë·ªÉ tr·ªëng = d√πng t√™n icon)</span>';
                const lblIn = document.createElement('input');
                lblIn.type = 'text';
                lblIn.placeholder = 'V√≠ d·ª•: K√™nh Gaming, Li√™n h·ªá...';
                lblIn.value = s.label || '';
                lblIn.style.marginBottom = '0';
                lblIn.oninput = () => { S.cards[cardIdx].soc[i].label = lblIn.value; renderAllCards(); };
                
                div.appendChild(selLbl);
                div.appendChild(iconSelector);
                div.appendChild(urlLbl);
                div.appendChild(urlIn);
                div.appendChild(lblLbl);
                div.appendChild(lblIn);
                list.appendChild(div);
            });
        }
        
        window.addCard = addCard;
        window.removeCard = removeCard;
        window.addSocialToCard = addSocialToCard;
        window.removeSocialFromCard = removeSocialFromCard;
        
        // Render cards on main interface
        // Render t·∫•t c·∫£ cards (avatar + bank) v√†o 1 container chung
        function renderAllCards() {
            const container = g('allCardsContainer');
            container.innerHTML = '';
            
            const k = L === 'vi' ? '_vi' : '_en';
            
            // Apply CSS for avatar colors
            let avatarStyle = g('avatarColorsStyle');
            if (!avatarStyle) {
                avatarStyle = document.createElement('style');
                avatarStyle.id = 'avatarColorsStyle';
                document.head.appendChild(avatarStyle);
            }
            
            let styleContent = '';
            S.cards.forEach((card, idx) => {
                const colors = card.avatarColors;
                // C·∫ßn selector ƒë·∫∑c bi·ªát ƒë·ªÉ ch·ªâ target contact-card, kh√¥ng ·∫£nh h∆∞·ªüng bank-card
                styleContent += `.all-cards-container > .contact-card:nth-of-type(${idx + 1}) .avatar-wrapper::before { background: linear-gradient(135deg, ${colors.c1}, ${colors.c2}, ${colors.c3}); }`;
            });
            avatarStyle.textContent = styleContent;
            
            // Render Avatar Cards
            S.cards.forEach((card) => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'contact-card';
                
                // Avatar
                const avatarWrapper = document.createElement('div');
                avatarWrapper.className = 'avatar-wrapper';
                const avatarImg = document.createElement('img');
                avatarImg.src = card.av || 'IMG/AVT-NguyeZGaming.png';
                avatarImg.className = 'avatar';
                avatarImg.alt = 'Avatar';
                avatarWrapper.appendChild(avatarImg);
                
                // Title
                const title = document.createElement('h2');
                title.className = 'contact-title';
                title.textContent = card['t' + k] || card.t_vi;
                
                // Description
                const desc = document.createElement('p');
                desc.className = 'contact-description';
                desc.innerHTML = card['d' + k] || card.d_vi;
                
                // Social Links
                const socialLinks = document.createElement('div');
                socialLinks.className = 'social-links';
                card.soc.forEach(s => {
                    const ico = ICONS[s.type];
                    if (!ico || !s.url) return;
                    const a = document.createElement('a');
                    a.href = s.url;
                    a.target = '_blank';
                    a.className = 'social-link ' + ico.class;
                    const displayLabel = s.label || ico.label;
                    a.innerHTML = '<i class="' + ico.icon + '"></i><span>' + displayLabel + '</span>';
                    socialLinks.appendChild(a);
                });
                
                cardDiv.appendChild(avatarWrapper);
                cardDiv.appendChild(title);
                cardDiv.appendChild(desc);
                cardDiv.appendChild(socialLinks);
                
                container.appendChild(cardDiv);
            });
            
            // Render Bank Cards ngay sau avatar cards
            S.bankCards.forEach(card => {
                const name = card['name' + k] || card.name_vi;
                const desc = card['desc' + k] || '';
                
                const cardDiv = document.createElement('div');
                cardDiv.className = 'bank-card';
                
                const cardNumBadge = document.createElement('div');
                cardNumBadge.className = 'bank-card-number';
                cardNumBadge.textContent = '#' + card.id;
                
                const qrDiv = document.createElement('div');
                qrDiv.className = 'bank-qr';
                qrDiv.style.borderColor = card.colors.qrBorder;
                const qrImg = document.createElement('img');
                qrImg.src = card.qrUrl || 'https://via.placeholder.com/180?text=QR+Code';
                qrImg.alt = 'QR Code';
                qrDiv.appendChild(qrImg);
                
                const nameDiv = document.createElement('div');
                nameDiv.className = 'bank-name';
                nameDiv.textContent = name;
                nameDiv.style.color = card.colors.name;
                
                const descDiv = document.createElement('div');
                descDiv.className = 'bank-desc';
                descDiv.textContent = desc;
                descDiv.style.color = card.colors.desc;
                
                const infoDiv = document.createElement('div');
                infoDiv.className = 'bank-info';
                infoDiv.style.background = card.colors.infoBg;
                infoDiv.style.borderColor = card.colors.infoBorder;
                
                const numSpan = document.createElement('span');
                numSpan.className = 'bank-number';
                numSpan.textContent = card.accountInfo || 'Ch∆∞a c√≥ th√¥ng tin';
                numSpan.style.color = card.colors.infoText;
                
                const handleCopy = (btn) => {
                    if (!card.accountInfo) return;
                    
                    const icon = btn.querySelector('i');
                    const tooltip = btn.querySelector('.copy-tooltip');
                    
                    navigator.clipboard.writeText(card.accountInfo).then(() => {
                        btn.classList.add('copied');
                        icon.className = 'fas fa-check';
                        tooltip.classList.add('show');
                        
                        setTimeout(() => { 
                            btn.classList.remove('copied');
                            icon.className = 'fas fa-copy';
                            tooltip.classList.remove('show');
                        }, 2000);
                    });
                };
                
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.innerHTML = '<i class="fas fa-copy"></i><span class="copy-tooltip">ƒê√£ copy!</span>';
                copyBtn.onclick = (e) => { e.stopPropagation(); handleCopy(copyBtn); };
                
                infoDiv.appendChild(numSpan);
                infoDiv.appendChild(copyBtn);
                
                cardDiv.appendChild(cardNumBadge);
                cardDiv.appendChild(qrDiv);
                cardDiv.appendChild(nameDiv);
                if (desc) cardDiv.appendChild(descDiv);
                cardDiv.appendChild(infoDiv);
                
                container.appendChild(cardDiv);
            });
            
            applyLayout();
        }

        function renderSocialLinks(cardNum) {
            const card = S['c' + cardNum];
            const container = g('socialLinks' + cardNum);
            container.innerHTML = '';
            card.soc.forEach(s => {
                const ico = ICONS[s.type];
                if (!ico || !s.url) return;
                const a = document.createElement('a');
                a.href = s.url;
                a.target = '_blank';
                a.className = 'social-link ' + ico.class;
                const displayLabel = s.label || ico.label;
                a.innerHTML = '<i class="' + ico.icon + '"></i><span>' + displayLabel + '</span>';
                container.appendChild(a);
            });
        }

        function upFs() {
            const m = g('mainSize').value, c = g('cardSize').value, d = g('descSize').value, s = g('socialSize').value;
            g('mainSizeVal').textContent = m + 'rem'; g('cardSizeVal').textContent = c + 'rem';
            g('descSizeVal').textContent = d + 'rem'; g('socialSizeVal').textContent = s + 'rem';
            g('mainTitle').style.fontSize = m + 'rem';
            $$('.contact-title').forEach(e => e.style.fontSize = c + 'rem');
            $$('.contact-description').forEach(e => e.style.fontSize = d + 'rem');
            $$('.social-link').forEach(e => e.style.fontSize = s + 'rem');
            S.fs = { main: +m, card: +c, desc: +d, social: +s };
        }

        function upBg() {
            const i = g('bgImage').value, o = g('bgOp').value / 100, v = g('bgOv').value / 100, b = g('bgBl').value;
            const c1 = g('bgC1').value, c2 = g('bgC2').value, c3 = g('bgC3').value;
            document.body.style.background = 'linear-gradient(135deg, ' + c1 + ', ' + c2 + ', ' + c3 + ')';
            let st = g('bgSt'); if (!st) { st = document.createElement('style'); st.id = 'bgSt'; document.head.appendChild(st); }
            st.textContent = 'body::before { background-image: url(\'' + i + '\'); opacity: ' + o + '; filter: blur(' + b + 'px); } body::after { background: rgba(0,0,0,' + v + '); }';
            S.bg = { img: i, op: +g('bgOp').value, ov: +g('bgOv').value, bl: +b, c1, c2, c3 };
        }

        function upMainTitle() {
            const color = g('mainTitleColor').value;
            const size = g('mainTitleSize').value;
            g('mainTitleSizeVal').textContent = size + 'rem';
            g('mainTitle').style.color = color;
            g('mainTitle').style.fontSize = size + 'rem';
            S.titleColor = color;
            S.titleSize = +size;
            upCt();
        }
        
        function upCt() {
            const k = L === 'vi' ? '_vi' : '_en';
            const mt = g('mainTitle' + k).value;
            if (mt) g('mainTitle').innerHTML = mt;
            
            // Update bank cards language
            renderAllCards();
        }

        function save() {
            S.title_vi = g('mainTitle_vi').value || S.title_vi;
            S.title_en = g('mainTitle_en').value || S.title_en;
            S.titleColor = g('mainTitleColor').value || S.titleColor;
            S.titleSize = +g('mainTitleSize').value || S.titleSize;
            // Cards and bank cards are already saved via renderCardsSettings() and renderBankCardsInputs()
            localStorage.setItem('ngZ', JSON.stringify(S));
            g('settingsPanel').classList.remove('active');
            alert('‚úì ƒê√£ l∆∞u!');
        }

        function reset() {
            if (confirm('Reset v·ªÅ m·∫∑c ƒë·ªãnh?')) {
                S = JSON.parse(JSON.stringify(D));
                localStorage.setItem('ngZ', JSON.stringify(S));
                load(); alert('‚úì ƒê√£ reset!');
            }
        }

        function exp() {
            const k = L === 'vi' ? '_vi' : '_en';
            const t1 = 't' + k, d1 = 'd' + k;
            let h = '<!DOCTYPE html><html lang="' + L + '"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>' + (L === 'vi' ? S.title_vi : S.title_en) + '</title>';
            h += '<link rel="icon" href="' + (S.cards[0]?.av || 'IMG/AVT-NguyeZGaming.png') + '">';
            h += '<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">';
            h += '<link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&family=Exo+2:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">';
            h += '<style>*{margin:0;padding:0;box-sizing:border-box}';
            h += 'html{overflow-x:hidden;width:100%;max-width:100vw}';
            h += 'body{overflow-x:hidden;overflow-y:auto;width:100%;max-width:100vw;margin:0;font-family:' + S.font + ';background:linear-gradient(135deg,' + S.bg.c1 + ',' + S.bg.c2 + ',' + S.bg.c3 + ');min-height:100vh;display:flex;justify-content:center;align-items:center;padding:40px 20px;position:relative}';
            h += 'body::before{content:\'\';position:fixed;top:0;left:0;width:100vw;height:100vh;background:url(\'' + S.bg.img + '\') center/cover;opacity:' + (S.bg.op/100) + ';filter:blur(' + S.bg.bl + 'px);z-index:0;animation:kenBurns 30s ease-in-out infinite alternate;will-change:transform}';
            h += 'body::after{content:\'\';position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,' + (S.bg.ov/100) + ');z-index:0;animation:overlayPulse 15s ease-in-out infinite alternate}';
            h += '.container{max-width:1400px;width:100%;position:relative;z-index:1}';
            h += '.header{text-align:center;margin-bottom:60px}.header h1{font-size:' + (S.titleSize || S.fs.main) + 'rem;color:' + (S.titleColor || '#667eea') + ';letter-spacing:2px;font-weight:800}';
            // All cards container - ch·ª©a c·∫£ avatar + bank cards
            h += '.all-cards-container{display:grid;grid-template-columns:repeat(2,1fr);gap:50px}';
            // Layout 1 c·ªôt: t·∫•t c·∫£ n·∫±m gi·ªØa, 1 card/d√≤ng
            if (S.layout === '1col') {
                h += '.container.layout-1col .all-cards-container{grid-template-columns:1fr;max-width:700px;margin:0 auto}';
            }
            h += '.contact-card{background:linear-gradient(135deg,rgba(30,30,60,0.6),rgba(40,35,70,0.6),rgba(35,30,65,0.6));background-size:200% 200%;backdrop-filter:blur(10px);border-radius:30px;padding:50px 40px;position:relative;overflow:hidden;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);animation:gradientShift 8s ease infinite,subtleGlow 4s ease-in-out infinite}';
            h += '.contact-card::before{content:"";position:absolute;inset:-3px;border-radius:30px;padding:3px;background:linear-gradient(135deg,rgba(102,126,234,0.3),rgba(118,75,162,0.3),rgba(240,147,251,0.3),rgba(102,126,234,0.3));-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude;opacity:0.3;transition:all 0.4s ease;z-index:-1}';
            h += '.contact-card::after{content:"";position:absolute;inset:0;border-radius:30px;background:linear-gradient(135deg,rgba(102,126,234,0.05),rgba(118,75,162,0.05),rgba(240,147,251,0.05));opacity:0;transition:opacity 0.4s ease;pointer-events:none;z-index:0}';
            h += '.contact-card:hover{transform:translateY(-10px) scale(1.02);box-shadow:0 25px 70px rgba(102,126,234,0.6),0 0 60px rgba(118,75,162,0.4),0 0 100px rgba(240,147,251,0.3),inset 0 0 50px rgba(102,126,234,0.1);animation-play-state:paused}';
            h += '.contact-card:hover::before{opacity:1;animation:rotateBorder 3s linear infinite;background:linear-gradient(135deg,#667eea,#764ba2,#f093fb,#667eea)}';
            h += '.contact-card:hover::after{opacity:1}';
            h += '.avatar-wrapper{position:relative;width:180px;height:180px;margin:0 auto 30px;z-index:1;overflow:visible}';
            h += '.avatar-wrapper::before{content:"";position:absolute;inset:-5px;background:linear-gradient(135deg,#667eea,#764ba2,#f093fb);border-radius:50%;animation:rotate 3s linear infinite;z-index:-1}';
            // Dynamic avatar colors for each card
            S.cards.forEach((card, idx) => {
                if (card.avatarColors) {
                    h += '.contact-card:nth-child(' + (idx + 1) + ') .avatar-wrapper::before{background:linear-gradient(135deg,' + card.avatarColors.c1 + ',' + card.avatarColors.c2 + ',' + card.avatarColors.c3 + ')}';
                }
            });
            h += '.avatar{width:100%;height:100%;border-radius:50%;object-fit:cover;border:5px solid rgba(15,12,41,0.9);transition:all 2s cubic-bezier(0.4,0,0.2,1)}';
            h += '.contact-card:hover .avatar{transform:scale(1.2);border:0;border-radius:20px}';
            h += '.contact-card:hover .avatar-wrapper::before{opacity:0;transition:opacity 0.5s ease}';
            h += '.contact-title{text-align:center;font-size:' + S.fs.card + 'rem;color:#fff;margin-bottom:20px;position:relative;z-index:1}';
            h += '.contact-description{text-align:center;color:#a8b2d1;line-height:1.8;margin-bottom:35px;font-size:' + S.fs.desc + 'rem;position:relative;z-index:1}';
            h += '.social-links{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;position:relative;z-index:1}';
            h += '.social-link{display:flex;align-items:center;justify-content:center;gap:12px;padding:15px 20px;background:rgba(102,126,234,0.1);border:2px solid rgba(102,126,234,0.3);border-radius:15px;color:#fff;text-decoration:none;font-size:' + S.fs.social + 'rem;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);word-break:break-word;overflow-wrap:break-word}';
            h += '.social-link i{font-size:1.3rem;transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}';
            h += '.social-link:hover{transform:translateY(-5px) scale(1.05);border-color:rgba(102,126,234,1);box-shadow:0 10px 30px rgba(102,126,234,0.4),0 0 20px rgba(102,126,234,0.2);background:rgba(102,126,234,0.15)}';
            h += '.social-link:hover i{transform:scale(1.2) rotate(5deg);filter:brightness(1.3)}';
            h += '.youtube{border-color:rgba(255,0,0,0.3);background:rgba(255,0,0,0.05)}.youtube i{color:#ff0000}';
            h += '.discord{border-color:rgba(88,101,242,0.3);background:rgba(88,101,242,0.05)}.discord i{color:#5865f2}';
            h += '.website{border-color:rgba(0,255,255,0.3);background:rgba(0,255,255,0.05)}.website i{color:#00ffff}';
            h += '.email{border-color:rgba(234,88,12,0.3);background:rgba(234,88,12,0.05)}.email i{color:#ea580c}';
            h += '.forum{border-color:rgba(147,51,234,0.3);background:rgba(147,51,234,0.05)}.forum i{color:#9333ea}';
            h += '.twitch{border-color:rgba(145,70,255,0.3);background:rgba(145,70,255,0.05)}.twitch i{color:#9146ff}';
            h += '.twitter{border-color:rgba(29,155,240,0.3);background:rgba(29,155,240,0.05)}.twitter i{color:#1d9bf0}';
            h += '.facebook{border-color:rgba(24,119,242,0.3);background:rgba(24,119,242,0.05)}.facebook i{color:#1877f2}';
            h += '.instagram{border-color:rgba(225,48,108,0.3);background:rgba(225,48,108,0.05)}.instagram i{color:#e1306c}';
            h += '.tiktok{border-color:rgba(0,242,234,0.3);background:rgba(0,242,234,0.05)}.tiktok i{color:#00f2ea}';
            h += '.google-sheet{border-color:rgba(34,197,94,0.3);background:rgba(34,197,94,0.05)}.google-sheet i{color:#22c55e}';
            h += '.google-form{border-color:rgba(66,133,244,0.3);background:rgba(66,133,244,0.05)}.google-form i{color:#4285f4}';
            h += '.github{border-color:rgba(240,246,252,0.3);background:rgba(240,246,252,0.05)}.github i{color:#f0f6fc}';
            h += '.linkedin{border-color:rgba(10,102,194,0.3);background:rgba(10,102,194,0.05)}.linkedin i{color:#0a66c2}';
            h += '.steam{border-color:rgba(23,129,190,0.3);background:rgba(23,129,190,0.05)}.steam i{color:#1781be}';
            h += '.steam-curator{border-color:rgba(102,192,244,0.3);background:rgba(102,192,244,0.05)}.steam-curator i{color:#66c0f4}';
            h += '.steam-game{border-color:rgba(31,108,171,0.3);background:rgba(31,108,171,0.05)}.steam-game i{color:#1f6cab}';
            h += '.steam-workshop{border-color:rgba(92,151,196,0.3);background:rgba(92,151,196,0.05)}.steam-workshop i{color:#5c97c4}';
            h += '.telegram{border-color:rgba(34,158,217,0.3);background:rgba(34,158,217,0.05)}.telegram i{color:#229ED9}';
            h += '.shopee{border-color:rgba(238,77,45,0.3);background:rgba(238,77,45,0.05)}.shopee i{color:#EE4D2D}';
            h += '.lazada{border-color:rgba(15,21,109,0.3);background:rgba(15,21,109,0.05)}.lazada i{color:#0F156D}';
            h += '.zalo{border-color:rgba(0,119,255,0.3);background:rgba(0,119,255,0.05)}.zalo i{color:#0077FF}';
            h += '.viber{border-color:rgba(124,88,179,0.3);background:rgba(124,88,179,0.05)}.viber i{color:#7C58B3}';
            h += '.whatsapp{border-color:rgba(37,211,102,0.3);background:rgba(37,211,102,0.05)}.whatsapp i{color:#25D366}';
            h += '.messenger{border-color:rgba(0,132,255,0.3);background:rgba(0,132,255,0.05)}.messenger i{color:#0084FF}';
            h += '.threads{border-color:rgba(0,0,0,0.3);background:rgba(0,0,0,0.05)}.threads i{color:#000000}';
            h += '.reddit{border-color:rgba(255,69,0,0.3);background:rgba(255,69,0,0.05)}.reddit i{color:#FF4500}';
            h += '.pinterest{border-color:rgba(230,0,35,0.3);background:rgba(230,0,35,0.05)}.pinterest i{color:#E60023}';
            h += '.snapchat{border-color:rgba(255,252,0,0.3);background:rgba(255,252,0,0.05)}.snapchat i{color:#FFFC00}';
            h += '.spotify{border-color:rgba(30,215,96,0.3);background:rgba(30,215,96,0.05)}.spotify i{color:#1DB954}';
            h += '.soundcloud{border-color:rgba(255,85,0,0.3);background:rgba(255,85,0,0.05)}.soundcloud i{color:#FF5500}';
            h += '.apple-music{border-color:rgba(252,61,57,0.3);background:rgba(252,61,57,0.05)}.apple-music i{color:#FC3D39}';
            h += '.youtube-music{border-color:rgba(255,0,0,0.3);background:rgba(255,0,0,0.05)}.youtube-music i{color:#FF0000}';
            h += '.medium{border-color:rgba(0,0,0,0.3);background:rgba(0,0,0,0.05)}.medium i{color:#000000}';
            h += '.wordpress{border-color:rgba(33,117,155,0.3);background:rgba(33,117,155,0.05)}.wordpress i{color:#21759B}';
            h += '.blogger{border-color:rgba(255,87,34,0.3);background:rgba(255,87,34,0.05)}.blogger i{color:#FF5722}';
            h += '.vimeo{border-color:rgba(26,183,234,0.3);background:rgba(26,183,234,0.05)}.vimeo i{color:#1AB7EA}';
            h += '.netflix{border-color:rgba(229,9,20,0.3);background:rgba(229,9,20,0.05)}.netflix i{color:#E50914}';
            h += '.xbox{border-color:rgba(16,124,16,0.3);background:rgba(16,124,16,0.05)}.xbox i{color:#107C10}';
            h += '.playstation{border-color:rgba(0,67,156,0.3);background:rgba(0,67,156,0.05)}.playstation i{color:#00439C}';
            h += '.nintendo{border-color:rgba(230,0,18,0.3);background:rgba(230,0,18,0.05)}.nintendo i{color:#E60012}';
            h += '.epic-games{border-color:rgba(49,49,49,0.3);background:rgba(49,49,49,0.05)}.epic-games i{color:#313131}';
            h += '.battle-net{border-color:rgba(0,176,240,0.3);background:rgba(0,176,240,0.05)}.battle-net i{color:#00B0F0}';
            h += '.riot{border-color:rgba(235,47,64,0.3);background:rgba(235,47,64,0.05)}.riot i{color:#EB2F40}';
            h += '.document{border-color:rgba(74,144,226,0.3);background:rgba(74,144,226,0.05)}.document i{color:#4A90E2}';
            h += '.news{border-color:rgba(255,159,64,0.3);background:rgba(255,159,64,0.05)}.news i{color:#FF9F40}';
            h += '.blog{border-color:rgba(156,39,176,0.3);background:rgba(156,39,176,0.05)}.blog i{color:#9C27B0}';
            h += '.music{border-color:rgba(233,30,99,0.3);background:rgba(233,30,99,0.05)}.music i{color:#E91E63}';
            h += '.video{border-color:rgba(244,67,54,0.3);background:rgba(244,67,54,0.05)}.video i{color:#F44336}';
            h += '.game{border-color:rgba(103,58,183,0.3);background:rgba(103,58,183,0.05)}.game i{color:#673AB7}';
            h += '.podcast{border-color:rgba(156,39,176,0.3);background:rgba(156,39,176,0.05)}.podcast i{color:#9C27B0}';
            h += '.patreon{border-color:rgba(255,66,77,0.3);background:rgba(255,66,77,0.05)}.patreon i{color:#FF424D}';
            h += '.ko-fi{border-color:rgba(255,93,177,0.3);background:rgba(255,93,177,0.05)}.ko-fi i{color:#FF5DB1}';
            h += '.paypal{border-color:rgba(0,48,135,0.3);background:rgba(0,48,135,0.05)}.paypal i{color:#003087}';
            h += '.donate{border-color:rgba(76,175,80,0.3);background:rgba(76,175,80,0.05)}.donate i{color:#4CAF50}';
            h += '.phone{border-color:rgba(33,150,243,0.3);background:rgba(33,150,243,0.05)}.phone i{color:#2196F3}';
            h += '.map{border-color:rgba(244,81,30,0.3);background:rgba(244,81,30,0.05)}.map i{color:#F4511E}';
            h += '.calendar{border-color:rgba(66,133,244,0.3);background:rgba(66,133,244,0.05)}.calendar i{color:#4285F4}';
            h += '.link{border-color:rgba(102,126,234,0.3);background:rgba(102,126,234,0.05)}.link i{color:#667eea}';
            // Bank Cards CSS
            h += '.bank-cards-container{display:grid;grid-template-columns:repeat(2,1fr);gap:50px;margin-top:50px}';
            h += '.bank-card{background:linear-gradient(135deg,rgba(30,30,60,0.7),rgba(40,35,70,0.7));backdrop-filter:blur(10px);border-radius:25px;padding:40px 35px;position:relative;overflow:hidden;transition:all 0.4s cubic-bezier(0.4,0,0.2,1);border:2px solid rgba(102,126,234,0.3);display:flex;flex-direction:column;min-height:100%}';
            if (S.layout === '1col' && S.bankCards && S.bankCards.length > 0) {
                h += '.container.layout-1col.has-banks .bank-card,.container.layout-1col.has-banks .contact-card{align-self:stretch}';
            }
            h += '.bank-card:hover{transform:translateY(-8px);box-shadow:0 20px 60px rgba(102,126,234,0.5);border-color:rgba(102,126,234,0.6)}';
            h += '.bank-qr{width:350px;height:350px;margin:0 auto 25px;border-radius:20px;overflow:hidden;border:4px solid rgba(102,126,234,0.4);transition:all 0.3s}';
            h += '.bank-card:hover .bank-qr{transform:scale(1.03);border-color:rgba(102,126,234,0.8)}';
            h += '.bank-qr img{width:100%;height:100%;object-fit:cover}';
            h += '.bank-name{text-align:center;font-size:1.8rem;font-weight:700;color:#fff;margin-bottom:12px}';
            h += '.bank-desc{text-align:center;color:#a8b2d1;font-size:1rem;margin-bottom:20px;min-height:24px;flex-shrink:0}';
            h += '.bank-desc:empty{display:none;min-height:0;margin-bottom:0}';
            h += '.bank-info{background:rgba(15,12,41,0.5);border-radius:12px;padding:14px 17px;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:12px;border:1px solid rgba(102,126,234,0.3);transition:all 0.3s;margin-top:auto}';
            h += '.bank-info:hover{border-color:rgba(102,126,234,0.6);background:rgba(15,12,41,0.7)}';
            h += '.bank-number{color:#fff;font-size:1.15rem;font-weight:600;word-break:break-all;text-align:center;flex:1}';
            h += '.copy-btn{background:rgba(102,126,234,0.2);border:1px solid rgba(102,126,234,0.4);color:#667eea;padding:10px 14px;border-radius:8px;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;gap:5px;font-size:1rem;position:relative}';
            h += '.copy-btn:hover{background:rgba(102,126,234,0.4);transform:scale(1.05)}';
            h += '.copy-btn i{font-size:1.1rem}';
            h += '.copy-tooltip{position:absolute;bottom:calc(100% + 10px);left:50%;transform:translateX(-50%) translateY(-10px) scale(0.8);background:linear-gradient(135deg,#10b981 0%,#059669 100%);color:white;padding:10px 18px;border-radius:10px;font-size:0.9rem;font-weight:700;white-space:nowrap;opacity:0;pointer-events:none;transition:all 0.3s cubic-bezier(0.68,-0.55,0.265,1.55);box-shadow:0 8px 20px rgba(16,185,129,0.4),0 4px 12px rgba(0,0,0,0.3);z-index:10000;border:2px solid rgba(255,255,255,0.3)}';
            h += '.copy-tooltip::after{content:"";position:absolute;top:100%;left:50%;transform:translateX(-50%);border:7px solid transparent;border-top-color:#059669}';
            h += '.copy-tooltip.show{opacity:1;transform:translateX(-50%) translateY(0) scale(1);animation:tooltipBounce 0.5s ease}';
            h += '.copy-btn.copied i{color:#10b981;animation:checkPulse 0.5s ease}';
            h += '.bank-card-number{display:none}';
            h += '@keyframes tooltipBounce{0%{transform:translateX(-50%) translateY(-10px) scale(0.8);opacity:0}50%{transform:translateX(-50%) translateY(-5px) scale(1.1)}100%{transform:translateX(-50%) translateY(0) scale(1);opacity:1}}';
            h += '@keyframes checkPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.3)}}';
            h += '@keyframes rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}';
            h += '@keyframes rotateBorder{0%{background:linear-gradient(0deg,#667eea,#764ba2,#f093fb,#667eea)}25%{background:linear-gradient(90deg,#667eea,#764ba2,#f093fb,#667eea)}50%{background:linear-gradient(180deg,#667eea,#764ba2,#f093fb,#667eea)}75%{background:linear-gradient(270deg,#667eea,#764ba2,#f093fb,#667eea)}100%{background:linear-gradient(360deg,#667eea,#764ba2,#f093fb,#667eea)}}';
            h += '@keyframes gradientShift{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}';
            h += '@keyframes subtleGlow{0%,100%{box-shadow:0 0 20px rgba(102,126,234,0.1)}50%{box-shadow:0 0 30px rgba(102,126,234,0.2)}}';
            h += '@keyframes kenBurns{0%{transform:scale(1) translate(0,0)}50%{transform:scale(1.1) translate(-2%,-2%)}100%{transform:scale(1.05) translate(2%,1%)}}';
            h += '@keyframes overlayPulse{0%,100%{background:rgba(0,0,0,' + (S.bg.ov/100) + ')}50%{background:rgba(0,0,0,' + (S.bg.ov/100 * 0.8) + ')}}';
            h += '.weather-container{position:fixed;inset:0;pointer-events:none;z-index:0;overflow:hidden}';
            h += '.particle{position:absolute;pointer-events:none}';
            h += '.snowflake{color:rgba(255,255,255,0.8);font-size:1em;animation:snowfall linear infinite}';
            h += '@keyframes snowfall{0%{transform:translateY(-100px) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(360deg);opacity:0.3}}';
            h += '.raindrop{width:2px;background:linear-gradient(transparent,rgba(174,194,224,0.8));animation:rainfall linear infinite}';
            h += '@keyframes rainfall{0%{transform:translateY(-100px);opacity:1}100%{transform:translateY(100vh);opacity:0.2}}';
            h += '.wind-particle{width:8px;height:8px;background:rgba(167,139,250,0.6);border-radius:50%;animation:windflow linear infinite}';
            h += '@keyframes windflow{0%{transform:translate(-100px,0) rotate(0deg);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translate(100vw,50vh) rotate(360deg);opacity:0}}';
            h += '.top-bar{position:fixed;top:30px;right:30px;display:flex;gap:15px;align-items:center;background:rgba(30,30,60,0.9);padding:10px 20px;border-radius:25px;border:2px solid rgba(102,126,234,0.3);z-index:1000}';
            h += '.lang-btn{width:40px;height:40px;border-radius:50%;border:2px solid rgba(102,126,234,0.3);background:transparent;cursor:pointer;overflow:hidden;transition:all 0.3s}';
            h += '.lang-btn.active{border-color:#667eea;box-shadow:0 0 15px rgba(102,126,234,0.6)}';
            h += '.lang-btn img{width:100%;height:100%;object-fit:cover}';
            h += '.font-selector{position:relative;display:flex;align-items:center}';
            h += '.font-btn{width:40px;height:40px;border-radius:50%;border:2px solid rgba(102,126,234,0.3);background:transparent;color:#667eea;cursor:pointer;transition:all 0.3s;display:flex;align-items:center;justify-content:center;font-size:1.2rem}';
            h += '.font-btn:hover{border-color:#667eea;box-shadow:0 0 15px rgba(102,126,234,0.6);background:rgba(102,126,234,0.1)}';
            h += '.font-btn.active{border-color:#667eea;box-shadow:0 0 15px rgba(102,126,234,0.6)}';
            h += '.font-dropdown{position:absolute;top:50px;right:0;background:rgba(15,12,41,0.95);border:2px solid rgba(102,126,234,0.3);border-radius:12px;padding:8px;display:none;flex-direction:column;gap:5px;min-width:140px;box-shadow:0 10px 30px rgba(0,0,0,0.5);z-index:1001}';
            h += '.font-dropdown.show{display:flex}';
            h += '.font-option{padding:10px 15px;color:#a8b2d1;background:transparent;border:none;border-radius:8px;cursor:pointer;text-align:left;transition:all 0.3s;font-size:0.9rem}';
            h += '.font-option:hover{background:rgba(102,126,234,0.2);color:#fff}';
            h += '.font-option.active{background:rgba(102,126,234,0.3);color:#667eea;font-weight:600}';
            h += '@media(max-width:968px){';
            h += 'body{padding:20px 10px;min-height:100vh}';
            h += '.container{padding:0;max-width:100%}';
            h += '.header{margin-bottom:25px}';
            h += '.header h1{font-size:2rem!important;letter-spacing:1px}';
            h += '.contact-grid{grid-template-columns:1fr!important;gap:25px}';
            h += '.contact-card{padding:30px 20px;border-radius:20px}';
            h += '.avatar-wrapper{width:120px;height:120px;margin-bottom:20px}';
            h += '.contact-title{font-size:1.5rem!important;margin-bottom:15px}';
            h += '.contact-description{font-size:0.95rem!important;margin-bottom:25px}';
            h += '.social-links{gap:10px;grid-template-columns:1fr}';
            h += '.social-link{padding:12px 15px;font-size:0.9rem!important;border-radius:12px}';
            h += '.social-link i{font-size:1.1rem!important}';
            h += '.top-bar{top:auto;bottom:15px;right:15px;left:auto;flex-direction:row;padding:8px 12px;gap:8px;border-radius:20px}';
            h += '.lang-btn{width:32px;height:32px}';
            h += '.font-btn{width:32px;height:32px;font-size:1rem}';
            h += '.font-dropdown{top:auto;bottom:50px;right:0;min-width:120px}';
            h += '.font-option{padding:8px 12px;font-size:0.85rem}';
            // Mobile: t·∫•t c·∫£ th√†nh 1 c·ªôt
            h += '.all-cards-container{grid-template-columns:1fr!important;gap:25px}';
            h += '.container.layout-1col .all-cards-container{max-width:100%!important}';
            h += '.bank-card{padding:25px 20px;border-radius:20px}';
            h += '.bank-qr{width:200px!important;height:200px!important;margin-bottom:20px}';
            h += '.bank-name{font-size:1.4rem!important;margin-bottom:10px}';
            h += '.bank-desc{font-size:0.95rem!important;margin-bottom:15px}';
            h += '.bank-info{padding:12px 15px;gap:10px;flex-wrap:wrap}';
            h += '.bank-number{font-size:1rem!important}';
            h += '.copy-btn{padding:8px 12px;font-size:0.9rem}';
            h += '}';
            h += '@media(max-width:600px){';
            h += 'body{padding:15px 8px}';
            h += '.header h1{font-size:1.6rem!important}';
            h += '.contact-card{padding:25px 15px}';
            h += '.avatar-wrapper{width:100px;height:100px}';
            h += '.contact-title{font-size:1.3rem!important}';
            h += '.contact-description{font-size:0.9rem!important}';
            h += '.social-link{padding:10px 12px;font-size:0.85rem!important}';
            h += '.bank-cards-container{grid-template-columns:1fr!important}';
            h += '.bank-qr{width:160px!important;height:160px!important}';
            h += '.bank-name{font-size:1.2rem!important}';
            h += '.bank-desc{font-size:0.9rem!important}';
            h += '}';
            h += '@media(max-width:480px){';
            h += 'body{padding:12px 6px}';
            h += '.header{margin-bottom:20px}';
            h += '.header h1{font-size:1.4rem!important;letter-spacing:0.5px}';
            h += '.contact-card{padding:20px 12px;border-radius:15px}';
            h += '.avatar-wrapper{width:90px;height:90px;margin-bottom:15px}';
            h += '.contact-title{font-size:1.2rem!important;margin-bottom:12px}';
            h += '.contact-description{font-size:0.85rem!important;line-height:1.6;margin-bottom:20px}';
            h += '.social-links{grid-template-columns:1fr;gap:8px}';
            h += '.social-link{padding:10px 12px;font-size:0.8rem!important;border-radius:10px}';
            h += '.social-link i{font-size:1rem!important}';
            h += '.top-bar{bottom:10px;right:10px;padding:6px 10px;gap:6px;border-radius:15px}';
            h += '.lang-btn{width:28px;height:28px}';
            h += '.font-btn{width:28px;height:28px;font-size:0.9rem}';
            h += '.font-dropdown{min-width:100px;bottom:45px}';
            h += '.font-option{padding:6px 10px;font-size:0.8rem}';
            h += '.bank-cards-container{gap:20px!important;margin-top:20px!important}';
            h += '.bank-card{padding:20px 15px}';
            h += '.bank-qr{width:140px!important;height:140px!important;margin-bottom:15px}';
            h += '.bank-name{font-size:1.1rem!important}';
            h += '.bank-desc{font-size:0.85rem!important;margin-bottom:12px}';
            h += '.bank-info{padding:10px 12px;gap:8px}';
            h += '.bank-number{font-size:0.9rem!important;word-break:break-all}';
            h += '.copy-btn{padding:6px 10px;font-size:0.85rem}';
            h += '.copy-btn i{font-size:1rem!important}';
            h += '.copy-tooltip{font-size:0.8rem;padding:8px 14px}';
            h += '}';
            h += '@media(max-width:360px){';
            h += 'body{padding:10px 5px}';
            h += '.header h1{font-size:1.2rem!important}';
            h += '.contact-card{padding:15px 10px}';
            h += '.avatar-wrapper{width:80px;height:80px}';
            h += '.contact-title{font-size:1.1rem!important}';
            h += '.contact-description{font-size:0.8rem!important}';
            h += '.social-link{padding:8px 10px;font-size:0.75rem!important}';
            h += '.bank-qr{width:120px!important;height:120px!important}';
            h += '.bank-name{font-size:1rem!important}';
            h += '.bank-desc{font-size:0.8rem!important}';
            h += '.bank-number{font-size:0.85rem!important}';
            h += '}';
            h += '</style>';
            h += '<script type="application/json" id="cfg">' + JSON.stringify(S) + '<\/script></head><body>';
            h += '<div class="top-bar">';
            h += '<button class="lang-btn ' + (L === 'vi' ? 'active' : '') + '" id="btnVi"><img src="https://flagcdn.com/w80/vn.png" alt="VN"></button>';
            h += '<button class="lang-btn ' + (L === 'en' ? 'active' : '') + '" id="btnEn"><img src="https://flagcdn.com/w80/us.png" alt="EN"></button>';
            h += '<div class="font-selector">';
            h += '<button class="font-btn" id="fontBtn"><i class="fas fa-font"></i></button>';
            h += '<div class="font-dropdown" id="fontDropdown">';
            h += '<button class="font-option' + (S.font === "'Segoe UI', sans-serif" ? ' active' : '') + '" data-font="\'Segoe UI\', sans-serif">Segoe UI</button>';
            h += '<button class="font-option' + (S.font === "'Play', sans-serif" ? ' active' : '') + '" data-font="\'Play\', sans-serif">Play</button>';
            h += '<button class="font-option' + (S.font === "'Exo 2', sans-serif" ? ' active' : '') + '" data-font="\'Exo 2\', sans-serif">Exo 2</button>';
            h += '<button class="font-option' + (S.font === "'Inter', sans-serif" ? ' active' : '') + '" data-font="\'Inter\', sans-serif">Inter</button>';
            h += '<button class="font-option' + (S.font === "'Roboto', sans-serif" ? ' active' : '') + '" data-font="\'Roboto\', sans-serif">Roboto</button>';
            h += '</div></div></div>';
            const hasBanks = S.bankCards && S.bankCards.length > 0;
            let containerClasses = '';
            if (S.layout === '1col') {
                containerClasses = ' layout-1col';
            }
            if (hasBanks) {
                containerClasses += ' has-banks';
            }
            h += '<div class="container' + containerClasses + '"><div class="header"><h1 id="mainTitle" style="color:' + (S.titleColor || '#667eea') + ';font-size:' + (S.titleSize || S.fs.main) + 'rem">' + (L === 'vi' ? S.title_vi : S.title_en) + '</h1></div>';
            h += '<div class="all-cards-container">';
            
            // Render t·∫•t c·∫£ Avatar Cards
            S.cards.forEach((card, idx) => {
                const colors = card.avatarColors;
                h += '<div class="contact-card"><div class="avatar-wrapper"><img src="' + card.av + '" class="avatar"></div>';
                h += '<h2 class="contact-title">' + card[t1] + '</h2><p class="contact-description">' + card[d1] + '</p>';
                h += '<div class="social-links">';
                card.soc.forEach(s => {
                    const ico = ICONS[s.type];
                    if (ico && s.url) {
                        const lbl = s.label || ico.label;
                        h += '<a href="' + s.url + '" target="_blank" class="social-link ' + ico.class + '"><i class="' + ico.icon + '"></i><span>' + lbl + '</span></a>';
                    }
                });
                h += '</div></div>';
            });
            
            // Render Bank Cards (same level as avatar cards)
            if (S.bankCards && S.bankCards.length > 0) {
                S.bankCards.forEach(card => {
                    const name = card['name' + k] || card.name_vi;
                    const desc = card['desc' + k] || '';
                    h += '<div class="bank-card">';
                    h += '<div class="bank-card-number">#' + card.id + '</div>';
                    h += '<div class="bank-qr" style="border-color:' + card.colors.qrBorder + '"><img src="' + (card.qrUrl || 'https://via.placeholder.com/180?text=QR+Code') + '" alt="QR Code"></div>';
                    h += '<div class="bank-name" style="color:' + card.colors.name + '">' + name + '</div>';
                    if (desc) {
                        h += '<div class="bank-desc" style="color:' + card.colors.desc + '">' + desc + '</div>';
                    }
                    const tooltipMsg = L === 'vi' ? '‚úì ƒê√£ sao ch√©p!' : '‚úì Copied!';
                    h += '<div class="bank-info" style="background:' + card.colors.infoBg + ';border-color:' + card.colors.infoBorder + '">';
                    h += '<button class="copy-btn" onclick="copyToClipboard(\'' + card.accountInfo.replace(/'/g, "\\'") + '\',this)"><i class="fas fa-copy"></i><div class="copy-tooltip">' + tooltipMsg + '</div></button>';
                    h += '<span class="bank-number" style="color:' + card.colors.infoText + '">' + (card.accountInfo || 'Ch∆∞a c√≥ th√¥ng tin') + '</span>';
                    h += '<button class="copy-btn" onclick="copyToClipboard(\'' + card.accountInfo.replace(/'/g, "\\'") + '\',this)"><i class="fas fa-copy"></i><div class="copy-tooltip">' + tooltipMsg + '</div></button>';
                    h += '</div></div>';
                });
            }
            
            h += '</div>'; // close all-cards-container
            h += '</div>'; // close container
            h += '<script>';
            h += 'function copyToClipboard(t,btn){if(!t)return;const icon=btn.querySelector("i");const tooltip=btn.querySelector(".copy-tooltip");navigator.clipboard.writeText(t).then(()=>{btn.classList.add("copied");icon.className="fas fa-check";tooltip.classList.add("show");setTimeout(()=>{btn.classList.remove("copied");icon.className="fas fa-copy";tooltip.classList.remove("show")},2000)}).catch(()=>{const ta=document.createElement("textarea");ta.value=t;ta.style.position="fixed";ta.style.left="-999999px";document.body.appendChild(ta);ta.select();try{document.execCommand("copy");btn.classList.add("copied");icon.className="fas fa-check";tooltip.classList.add("show");setTimeout(()=>{btn.classList.remove("copied");icon.className="fas fa-copy";tooltip.classList.remove("show")},2000)}catch(e){console.error(e)}document.body.removeChild(ta)})};';
            h += 'const cfg=JSON.parse(document.getElementById("cfg").textContent);';
            h += 'let cL="' + L + '";';
            h += 'document.getElementById("btnVi").onclick=()=>sw("vi");';
            h += 'document.getElementById("btnEn").onclick=()=>sw("en");';
            h += 'document.getElementById("fontBtn").onclick=()=>{';
            h += 'document.getElementById("fontDropdown").classList.toggle("show");';
            h += 'document.getElementById("fontBtn").classList.toggle("active");';
            h += '};';
            h += 'document.querySelectorAll(".font-option").forEach(opt=>{';
            h += 'opt.onclick=()=>{';
            h += 'const f=opt.dataset.font;';
            h += 'document.body.style.fontFamily=f;';
            h += 'document.querySelectorAll(".font-option").forEach(o=>o.classList.remove("active"));';
            h += 'opt.classList.add("active");';
            h += 'document.getElementById("fontDropdown").classList.remove("show");';
            h += 'document.getElementById("fontBtn").classList.remove("active");';
            h += '};';
            h += '});';
            h += 'document.addEventListener("click",(e)=>{';
            h += 'if(!e.target.closest(".font-selector")){';
            h += 'document.getElementById("fontDropdown").classList.remove("show");';
            h += 'document.getElementById("fontBtn").classList.remove("active");';
            h += '}';
            h += '});';
            h += 'function sw(l){cL=l;';
            h += 'document.getElementById("btnVi").classList.toggle("active",l==="vi");';
            h += 'document.getElementById("btnEn").classList.toggle("active",l==="en");';
            h += 'const k=l==="vi"?"_vi":"_en";';
            h += 'document.getElementById("mainTitle").innerHTML=l==="vi"?cfg.title_vi:cfg.title_en;';
            h += 'const titles=document.querySelectorAll(".contact-title");';
            h += 'const descs=document.querySelectorAll(".contact-description");';
            h += 'cfg.cards.forEach((card,i)=>{';
            h += 'if(titles[i])titles[i].textContent=card["t"+k];';
            h += 'if(descs[i])descs[i].innerHTML=card["d"+k];';
            h += '});';
            h += 'if(cfg.bankCards&&cfg.bankCards.length>0){';
            h += 'const banks=document.querySelectorAll(".bank-name");';
            h += 'const descs=document.querySelectorAll(".bank-desc");';
            h += 'cfg.bankCards.forEach((c,i)=>{';
            h += 'if(banks[i])banks[i].textContent=c["name"+k]||c.name_vi;';
            h += 'if(descs[i]){const d=c["desc"+k]||"";descs[i].textContent=d;descs[i].style.display=d?"block":"none"}';
            h += '})';
            h += '}';
            h += '}';
            h += 'function createWeather(){';
            h += 'const fx=["snow","rain","wind"][Math.floor(Math.random()*3)];';
            h += 'const c=document.createElement("div");c.className="weather-container";document.body.appendChild(c);';
            h += 'if(fx==="snow"){';
            h += 'for(let i=0;i<50;i++){';
            h += 'const s=document.createElement("div");s.className="particle snowflake";s.innerHTML="‚ùÑ";';
            h += 's.style.left=Math.random()*100+"%";s.style.animationDuration=(Math.random()*3+2)+"s";';
            h += 's.style.animationDelay=Math.random()*5+"s";s.style.fontSize=(Math.random()*10+10)+"px";c.appendChild(s);';
            h += '}}else if(fx==="rain"){';
            h += 'for(let i=0;i<100;i++){';
            h += 'const r=document.createElement("div");r.className="particle raindrop";';
            h += 'r.style.left=Math.random()*100+"%";r.style.height=(Math.random()*20+10)+"px";';
            h += 'r.style.animationDuration=(Math.random()*0.5+0.5)+"s";r.style.animationDelay=Math.random()*2+"s";c.appendChild(r);';
            h += '}}else{';
            h += 'for(let i=0;i<30;i++){';
            h += 'const w=document.createElement("div");w.className="particle wind-particle";';
            h += 'w.style.top=Math.random()*100+"%";w.style.animationDuration=(Math.random()*5+5)+"s";';
            h += 'w.style.animationDelay=Math.random()*5+"s";c.appendChild(w);';
            h += '}}}';
            h += 'window.onload=createWeather;';
            h += '<\/script></body></html>';

            const b = new Blob([h], {type: 'text/html'});
            const u = URL.createObjectURL(b);
            const a = document.createElement('a');
            a.href = u; a.download = 'nguyez-gaming-mediakit.html'; a.click();
            URL.revokeObjectURL(u);
            alert('‚úì ƒê√£ xu·∫•t!');
        }

        function imp(e) {
            const f = e.target.files[0]; if (!f) return;
            const r = new FileReader();
            r.onload = ev => {
                try {
                    let im;
                    if (f.name.endsWith('.json')) im = JSON.parse(ev.target.result);
                    else if (f.name.endsWith('.html')) {
                        const m = ev.target.result.match(/<script type="application\/json" id="cfg">([\s\S]*?)<\/script>/);
                        if (m) im = JSON.parse(m[1]); else throw new Error('Kh√¥ng t√¨m th·∫•y settings');
                    }
                    if (im && im.c1 && im.c2) { S = im; L = S.lang || 'vi'; localStorage.setItem('ngZ', JSON.stringify(S)); load(); alert('‚úì ƒê√£ t·∫£i!'); }
                    else throw new Error('File kh√¥ng h·ª£p l·ªá');
                } catch(err) { alert('‚ùå L·ªói: ' + err.message); }
            };
            r.readAsText(f);
        }

        // Weather Effects
        function createWeatherEffect() {
            const effects = ['snow', 'rain', 'wind'];
            const chosen = effects[Math.floor(Math.random() * effects.length)];
            const container = document.createElement('div');
            container.className = 'weather-container';
            document.body.appendChild(container);
            
            if (chosen === 'snow') {
                for (let i = 0; i < 50; i++) {
                    const snow = document.createElement('div');
                    snow.className = 'particle snowflake';
                    snow.innerHTML = '‚ùÑ';
                    snow.style.left = Math.random() * 100 + '%';
                    snow.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    snow.style.animationDelay = Math.random() * 5 + 's';
                    snow.style.fontSize = (Math.random() * 10 + 10) + 'px';
                    container.appendChild(snow);
                }
            } else if (chosen === 'rain') {
                for (let i = 0; i < 100; i++) {
                    const rain = document.createElement('div');
                    rain.className = 'particle raindrop';
                    rain.style.left = Math.random() * 100 + '%';
                    rain.style.height = (Math.random() * 20 + 10) + 'px';
                    rain.style.animationDuration = (Math.random() * 0.5 + 0.5) + 's';
                    rain.style.animationDelay = Math.random() * 2 + 's';
                    container.appendChild(rain);
                }
            } else if (chosen === 'wind') {
                for (let i = 0; i < 30; i++) {
                    const wind = document.createElement('div');
                    wind.className = 'particle wind-particle';
                    wind.style.top = Math.random() * 100 + '%';
                    wind.style.animationDuration = (Math.random() * 5 + 5) + 's';
                    wind.style.animationDelay = Math.random() * 5 + 's';
                    container.appendChild(wind);
                }
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            init();
            createWeatherEffect();
        });
    </script>
</body>
</html>
